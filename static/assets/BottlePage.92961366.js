import{u as cr,a as po,b as go,c as yo,d as dr,e as fr,r as Br,f as zi,g as bo,h as Ui,i as Ni,j as jr,k as Ki,l as Ir}from"./brewfather.6ffbf7b6.js";import{c as ct,f as Qi,h as Gi,d as Yi,a as sn,b as Xi}from"./render.a42eb5c9.js";import{u as Ji,a as Zi,Q as En,R as el,b as tl,c as nl,e as rl,f as Yn,h as wo}from"./Ripple.f9cf49ff.js";import{c as B,h as N,g as St,s as Je,r as X,d as Rn,P as ol,Q as ln,m as Ge,J as Lr,k as Ee,a as Dn,o as Vt,K as al,p as Xe,R as Hr,A as So,S as il,T as ll,U as st,M as ul,V as or,W as Wr,X as sl,n as cl,Y as dl,Z as fl,u as vl,v as ml,$ as hl,a0 as pl,j as tn,L as Lt,f as gl,O as Co,a1 as yl,C as ar,a2 as To,H as ut,a3 as bl,w as wl,a4 as Sl,a5 as Cl,_ as Tl,a6 as _l,a7 as xl,B as El,D as Pl,E as zr,F as Xn,a8 as $l,a9 as kl}from"./index.337f03b4.js";import{d as Al,u as _o,a as xo,g as Ol,c as Ml,b as Rl,h as Dl,r as ir}from"./scroll.2adde525.js";import{Q as Vl}from"./QPage.ed9669d4.js";import"./QSpinner.23937d57.js";import"./uid.42677368.js";var ql=ct({name:"QField",inheritAttrs:!1,props:{...cr,tag:{type:String,default:"label"}},emits:po,setup(){return go(yo({requiredForAttr:!1,tagProp:!0}))}});const Fl={xs:8,sm:10,md:14,lg:20,xl:24};var Bl=ct({name:"QChip",props:{...dr,...Ji,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:o,emit:r}){const{proxy:{$q:i}}=St(),u=fr(e,i),c=Zi(e,Fl),d=B(()=>e.selected===!0||e.icon!==void 0),g=B(()=>e.selected===!0?e.iconSelected||i.iconSet.chip.selected:e.icon),f=B(()=>e.iconRemove||i.iconSet.chip.remove),p=B(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),h=B(()=>{const k=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(k?` text-${k} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(p.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(u.value===!0?" q-chip--dark q-dark":"")}),b=B(()=>{const k=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},Q={...k,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||i.lang.label.remove};return{chip:k,remove:Q}});function _(k){k.keyCode===13&&C(k)}function C(k){e.disable||(r("update:selected",!e.selected),r("click",k))}function x(k){(k.keyCode===void 0||k.keyCode===13)&&(Je(k),e.disable===!1&&(r("update:modelValue",!1),r("remove")))}function H(){const k=[];p.value===!0&&k.push(N("div",{class:"q-focus-helper"})),d.value===!0&&k.push(N(En,{class:"q-chip__icon q-chip__icon--left",name:g.value}));const Q=e.label!==void 0?[N("div",{class:"ellipsis"},[e.label])]:void 0;return k.push(N("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Gi(o.default,Q))),e.iconRight&&k.push(N(En,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&k.push(N(En,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:f.value,...b.value.remove,onClick:x,onKeyup:x})),k}return()=>{if(e.modelValue===!1)return;const k={class:h.value,style:c.value};return p.value===!0&&Object.assign(k,b.value.chip,{onClick:C,onKeyup:_}),Qi("div",k,H(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[el,e.ripple]])}}}),jl=ct({name:"QItem",props:{...dr,...tl,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:o,emit:r}){const{proxy:{$q:i}}=St(),u=fr(e,i),{hasLink:c,linkAttrs:d,linkClass:g,linkTag:f,navigateOnClick:p}=nl(),h=X(null),b=X(null),_=B(()=>e.clickable===!0||c.value===!0||e.tag==="label"),C=B(()=>e.disable!==!0&&_.value===!0),x=B(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(u.value===!0?" q-item--dark":"")+(c.value===!0&&e.active===null?g.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(C.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),H=B(()=>{if(e.insetLevel===void 0)return null;const $=i.lang.rtl===!0?"Right":"Left";return{["padding"+$]:16+e.insetLevel*56+"px"}});function k($){C.value===!0&&(b.value!==null&&($.qKeyEvent!==!0&&document.activeElement===h.value?b.value.focus():document.activeElement===b.value&&h.value.focus()),p($))}function Q($){if(C.value===!0&&Rn($,[13,32])===!0){Je($),$.qKeyEvent=!0;const D=new MouseEvent("click",$);D.qKeyEvent=!0,h.value.dispatchEvent(D)}r("keyup",$)}function q(){const $=Yi(o.default,[]);return C.value===!0&&$.unshift(N("div",{class:"q-focus-helper",tabindex:-1,ref:b})),$}return()=>{const $={ref:h,class:x.value,style:H.value,role:"listitem",onClick:k,onKeyup:Q};return C.value===!0?($.tabindex=e.tabindex||"0",Object.assign($,d.value)):_.value===!0&&($["aria-disabled"]="true"),N(f.value,$,q())}}}),Il=ct({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:o}){const r=B(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>N("div",{class:r.value},sn(o.default))}}),Ll=ct({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:o}){const r=B(()=>parseInt(e.lines,10)),i=B(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(r.value===1?" ellipsis":"")),u=B(()=>e.lines!==void 0&&r.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":r.value}:null);return()=>N("div",{style:u.value,class:i.value},sn(o.default))}});function Hl(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),ol.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Wl={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function zl({showing:e,avoidEmit:o,configureAnchorEl:r}){const{props:i,proxy:u,emit:c}=St(),d=X(null);let g=null;function f(C){return d.value===null?!1:C===void 0||C.touches===void 0||C.touches.length<=1}const p={};r===void 0&&(Object.assign(p,{hide(C){u.hide(C)},toggle(C){u.toggle(C),C.qAnchorHandled=!0},toggleKey(C){Rn(C,13)===!0&&p.toggle(C)},contextClick(C){u.hide(C),ln(C),Ge(()=>{u.show(C),C.qAnchorHandled=!0})},prevent:ln,mobileTouch(C){if(p.mobileCleanup(C),f(C)!==!0)return;u.hide(C),d.value.classList.add("non-selectable");const x=C.target;Lr(p,"anchor",[[x,"touchmove","mobileCleanup","passive"],[x,"touchend","mobileCleanup","passive"],[x,"touchcancel","mobileCleanup","passive"],[d.value,"contextmenu","prevent","notPassive"]]),g=setTimeout(()=>{g=null,u.show(C),C.qAnchorHandled=!0},300)},mobileCleanup(C){d.value.classList.remove("non-selectable"),g!==null&&(clearTimeout(g),g=null),e.value===!0&&C!==void 0&&Hl()}}),r=function(C=i.contextMenu){if(i.noParentEvent===!0||d.value===null)return;let x;C===!0?u.$q.platform.is.mobile===!0?x=[[d.value,"touchstart","mobileTouch","passive"]]:x=[[d.value,"mousedown","hide","passive"],[d.value,"contextmenu","contextClick","notPassive"]]:x=[[d.value,"click","toggle","passive"],[d.value,"keyup","toggleKey","passive"]],Lr(p,"anchor",x)});function h(){al(p,"anchor")}function b(C){for(d.value=C;d.value.classList.contains("q-anchor--skip");)d.value=d.value.parentNode;r()}function _(){if(i.target===!1||i.target===""||u.$el.parentNode===null)d.value=null;else if(i.target===!0)b(u.$el.parentNode);else{let C=i.target;if(typeof i.target=="string")try{C=document.querySelector(i.target)}catch{C=void 0}C!=null?(d.value=C.$el||C,r()):(d.value=null,console.error(`Anchor: target "${i.target}" not found`))}}return Ee(()=>i.contextMenu,C=>{d.value!==null&&(h(),r(C))}),Ee(()=>i.target,()=>{d.value!==null&&h(),_()}),Ee(()=>i.noParentEvent,C=>{d.value!==null&&(C===!0?h():r())}),Dn(()=>{_(),o!==!0&&i.modelValue===!0&&d.value===null&&c("update:modelValue",!1)}),Vt(()=>{g!==null&&clearTimeout(g),h()}),{anchorEl:d,canShow:f,anchorEvents:p}}function Ul(e,o){const r=X(null);let i;function u(g,f){const p=`${f!==void 0?"add":"remove"}EventListener`,h=f!==void 0?f:i;g!==window&&g[p]("scroll",h,Xe.passive),window[p]("scroll",h,Xe.passive),i=f}function c(){r.value!==null&&(u(r.value),r.value=null)}const d=Ee(()=>e.noParentEvent,()=>{r.value!==null&&(c(),o())});return Vt(d),{localScrollTarget:r,unconfigureScrollTarget:c,changeScrollEvent:u}}const Eo={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Po=["beforeShow","show","beforeHide","hide"];function $o({showing:e,canShow:o,hideOnRouteChange:r,handleShow:i,handleHide:u,processOnMount:c}){const d=St(),{props:g,emit:f,proxy:p}=d;let h;function b(q){e.value===!0?x(q):_(q)}function _(q){if(g.disable===!0||q!==void 0&&q.qAnchorHandled===!0||o!==void 0&&o(q)!==!0)return;const $=g["onUpdate:modelValue"]!==void 0;$===!0&&(f("update:modelValue",!0),h=q,Ge(()=>{h===q&&(h=void 0)})),(g.modelValue===null||$===!1)&&C(q)}function C(q){e.value!==!0&&(e.value=!0,f("beforeShow",q),i!==void 0?i(q):f("show",q))}function x(q){if(g.disable===!0)return;const $=g["onUpdate:modelValue"]!==void 0;$===!0&&(f("update:modelValue",!1),h=q,Ge(()=>{h===q&&(h=void 0)})),(g.modelValue===null||$===!1)&&H(q)}function H(q){e.value!==!1&&(e.value=!1,f("beforeHide",q),u!==void 0?u(q):f("hide",q))}function k(q){g.disable===!0&&q===!0?g["onUpdate:modelValue"]!==void 0&&f("update:modelValue",!1):q===!0!==e.value&&(q===!0?C:H)(h)}Ee(()=>g.modelValue,k),r!==void 0&&rl(d)===!0&&Ee(()=>p.$route.fullPath,()=>{r.value===!0&&e.value===!0&&x()}),c===!0&&Dn(()=>{k(g.modelValue)});const Q={show:_,hide:x,toggle:b};return Object.assign(p,Q),Q}let Nl=1,Kl=document.body;function Ql(e,o){const r=document.createElement("div");if(r.id=o!==void 0?`q-portal--${o}--${Nl++}`:e,Hr.globalNodes!==void 0){const i=Hr.globalNodes.class;i!==void 0&&(r.className=i)}return Kl.appendChild(r),r}function Gl(e){e.remove()}const un=[];function Yl(e,o){do{if(e.$options.name==="QMenu"){if(e.hide(o),e.$props.separateClosePopup===!0)return Yn(e)}else if(e.__qPortal===!0){const r=Yn(e);return r!==void 0&&r.$options.name==="QPopupProxy"?(e.hide(o),r):e}e=Yn(e)}while(e!=null)}function Xl(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function ko(e,o,r,i){const u=X(!1),c=X(!1);let d=null;const g={},f=i==="dialog"&&Xl(e);function p(b){if(b===!0){Br(g),c.value=!0;return}c.value=!1,u.value===!1&&(f===!1&&d===null&&(d=Ql(!1,i)),u.value=!0,un.push(e.proxy),zi(g))}function h(b){if(c.value=!1,b!==!0)return;Br(g),u.value=!1;const _=un.indexOf(e.proxy);_!==-1&&un.splice(_,1),d!==null&&(Gl(d),d=null)}return So(()=>{h(!0)}),e.proxy.__qPortal=!0,il(e.proxy,"contentEl",()=>o.value),{showPortal:p,hidePortal:h,portalIsActive:u,portalIsAccessible:c,renderPortal:()=>f===!0?r():u.value===!0?[N(ll,{to:d},r())]:void 0}}const Ao={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Oo(e,o=()=>{},r=()=>{}){return{transitionProps:B(()=>{const i=`q-transition--${e.transitionShow||o()}`,u=`q-transition--${e.transitionHide||r()}`;return{appear:!0,enterFromClass:`${i}-enter-from`,enterActiveClass:`${i}-enter-active`,enterToClass:`${i}-enter-to`,leaveFromClass:`${u}-leave-from`,leaveActiveClass:`${u}-leave-active`,leaveToClass:`${u}-leave-to`}}),transitionStyle:B(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const Mt=[];let Ut;function Jl(e){Ut=e.keyCode===27}function Zl(){Ut===!0&&(Ut=!1)}function eu(e){Ut===!0&&(Ut=!1,Rn(e,27)===!0&&Mt[Mt.length-1](e))}function Mo(e){window[e]("keydown",Jl),window[e]("blur",Zl),window[e]("keyup",eu),Ut=!1}function Ro(e){st.is.desktop===!0&&(Mt.push(e),Mt.length===1&&Mo("addEventListener"))}function kn(e){const o=Mt.indexOf(e);o>-1&&(Mt.splice(o,1),Mt.length===0&&Mo("removeEventListener"))}const Rt=[];function Do(e){Rt[Rt.length-1](e)}function Vo(e){st.is.desktop===!0&&(Rt.push(e),Rt.length===1&&document.body.addEventListener("focusin",Do))}function lr(e){const o=Rt.indexOf(e);o>-1&&(Rt.splice(o,1),Rt.length===0&&document.body.removeEventListener("focusin",Do))}const{notPassiveCapture:An}=Xe,Dt=[];function On(e){const o=e.target;if(o===void 0||o.nodeType===8||o.classList.contains("no-pointer-events")===!0)return;let r=un.length-1;for(;r>=0;){const i=un[r].$;if(i.type.name==="QTooltip"){r--;continue}if(i.type.name!=="QDialog")break;if(i.props.seamless!==!0)return;r--}for(let i=Dt.length-1;i>=0;i--){const u=Dt[i];if((u.anchorEl.value===null||u.anchorEl.value.contains(o)===!1)&&(o===document.body||u.innerRef.value!==null&&u.innerRef.value.contains(o)===!1))e.qClickOutside=!0,u.onClickOutside(e);else return}}function tu(e){Dt.push(e),Dt.length===1&&(document.addEventListener("mousedown",On,An),document.addEventListener("touchstart",On,An))}function Ur(e){const o=Dt.findIndex(r=>r===e);o>-1&&(Dt.splice(o,1),Dt.length===0&&(document.removeEventListener("mousedown",On,An),document.removeEventListener("touchstart",On,An)))}let Nr,Kr;function Qr(e){const o=e.split(" ");return o.length!==2?!1:["top","center","bottom"].includes(o[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(o[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function nu(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ur={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ur[`${e}#ltr`]=e,ur[`${e}#rtl`]=e});function Gr(e,o){const r=e.split(" ");return{vertical:r[0],horizontal:ur[`${r[1]}#${o===!0?"rtl":"ltr"}`]}}function ru(e,o){let{top:r,left:i,right:u,bottom:c,width:d,height:g}=e.getBoundingClientRect();return o!==void 0&&(r-=o[1],i-=o[0],c+=o[1],u+=o[0],d+=o[0],g+=o[1]),{top:r,bottom:c,height:g,left:i,right:u,width:d,middle:i+(u-i)/2,center:r+(c-r)/2}}function ou(e,o,r){let{top:i,left:u}=e.getBoundingClientRect();return i+=o.top,u+=o.left,r!==void 0&&(i+=r[1],u+=r[0]),{top:i,bottom:i+1,height:1,left:u,right:u+1,width:1,middle:u,center:i}}function au(e,o){return{top:0,center:o/2,bottom:o,left:0,middle:e/2,right:e}}function Yr(e,o,r,i){return{top:e[r.vertical]-o[i.vertical],left:e[r.horizontal]-o[i.horizontal]}}function qo(e,o=0){if(e.targetEl===null||e.anchorEl===null||o>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{qo(e,o+1)},10);return}const{targetEl:r,offset:i,anchorEl:u,anchorOrigin:c,selfOrigin:d,absoluteOffset:g,fit:f,cover:p,maxHeight:h,maxWidth:b}=e;if(st.is.ios===!0&&window.visualViewport!==void 0){const J=document.body.style,{offsetLeft:te,offsetTop:ie}=window.visualViewport;te!==Nr&&(J.setProperty("--q-pe-left",te+"px"),Nr=te),ie!==Kr&&(J.setProperty("--q-pe-top",ie+"px"),Kr=ie)}const{scrollLeft:_,scrollTop:C}=r,x=g===void 0?ru(u,p===!0?[0,0]:i):ou(u,g,i);Object.assign(r.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:b||"100vw",maxHeight:h||"100vh",visibility:"visible"});const{offsetWidth:H,offsetHeight:k}=r,{elWidth:Q,elHeight:q}=f===!0||p===!0?{elWidth:Math.max(x.width,H),elHeight:p===!0?Math.max(x.height,k):k}:{elWidth:H,elHeight:k};let $={maxWidth:b,maxHeight:h};(f===!0||p===!0)&&($.minWidth=x.width+"px",p===!0&&($.minHeight=x.height+"px")),Object.assign(r.style,$);const D=au(Q,q);let L=Yr(x,D,c,d);if(g===void 0||i===void 0)Jn(L,x,D,c,d);else{const{top:J,left:te}=L;Jn(L,x,D,c,d);let ie=!1;if(L.top!==J){ie=!0;const de=2*i[1];x.center=x.top-=de,x.bottom-=de+2}if(L.left!==te){ie=!0;const de=2*i[0];x.middle=x.left-=de,x.right-=de+2}ie===!0&&(L=Yr(x,D,c,d),Jn(L,x,D,c,d))}$={top:L.top+"px",left:L.left+"px"},L.maxHeight!==void 0&&($.maxHeight=L.maxHeight+"px",x.height>L.maxHeight&&($.minHeight=$.maxHeight)),L.maxWidth!==void 0&&($.maxWidth=L.maxWidth+"px",x.width>L.maxWidth&&($.minWidth=$.maxWidth)),Object.assign(r.style,$),r.scrollTop!==C&&(r.scrollTop=C),r.scrollLeft!==_&&(r.scrollLeft=_)}function Jn(e,o,r,i,u){const c=r.bottom,d=r.right,g=Al(),f=window.innerHeight-g,p=document.body.clientWidth;if(e.top<0||e.top+c>f)if(u.vertical==="center")e.top=o[i.vertical]>f/2?Math.max(0,f-c):0,e.maxHeight=Math.min(c,f);else if(o[i.vertical]>f/2){const h=Math.min(f,i.vertical==="center"?o.center:i.vertical===u.vertical?o.bottom:o.top);e.maxHeight=Math.min(c,h),e.top=Math.max(0,h-c)}else e.top=Math.max(0,i.vertical==="center"?o.center:i.vertical===u.vertical?o.top:o.bottom),e.maxHeight=Math.min(c,f-e.top);if(e.left<0||e.left+d>p)if(e.maxWidth=Math.min(d,p),u.horizontal==="middle")e.left=o[i.horizontal]>p/2?Math.max(0,p-d):0;else if(o[i.horizontal]>p/2){const h=Math.min(p,i.horizontal==="middle"?o.middle:i.horizontal===u.horizontal?o.right:o.left);e.maxWidth=Math.min(d,h),e.left=Math.max(0,h-e.maxWidth)}else e.left=Math.max(0,i.horizontal==="middle"?o.middle:i.horizontal===u.horizontal?o.left:o.right),e.maxWidth=Math.min(d,p-e.left)}var iu=ct({name:"QMenu",inheritAttrs:!1,props:{...Wl,...Eo,...dr,...Ao,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Qr},self:{type:String,validator:Qr},offset:{type:Array,validator:nu},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Po,"click","escapeKey"],setup(e,{slots:o,emit:r,attrs:i}){let u=null,c,d,g;const f=St(),{proxy:p}=f,{$q:h}=p,b=X(null),_=X(!1),C=B(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),x=fr(e,h),{registerTick:H,removeTick:k}=_o(),{registerTimeout:Q}=xo(),{transitionProps:q,transitionStyle:$}=Oo(e),{localScrollTarget:D,changeScrollEvent:L,unconfigureScrollTarget:J}=Ul(e,z),{anchorEl:te,canShow:ie}=zl({showing:_}),{hide:de}=$o({showing:_,canShow:ie,handleShow:Ce,handleHide:S,hideOnRouteChange:C,processOnMount:!0}),{showPortal:Pe,hidePortal:$e,renderPortal:ye}=ko(f,b,oe,"menu"),Oe={anchorEl:te,innerRef:b,onClickOutside(O){if(e.persistent!==!0&&_.value===!0)return de(O),(O.type==="touchstart"||O.target.classList.contains("q-dialog__backdrop"))&&Je(O),!0}},je=B(()=>Gr(e.anchor||(e.cover===!0?"center middle":"bottom start"),h.lang.rtl)),Ve=B(()=>e.cover===!0?je.value:Gr(e.self||"top start",h.lang.rtl)),ue=B(()=>(e.square===!0?" q-menu--square":"")+(x.value===!0?" q-menu--dark q-dark":"")),qe=B(()=>e.autoClose===!0?{onClick:ee}:{}),fe=B(()=>_.value===!0&&e.persistent!==!0);Ee(fe,O=>{O===!0?(Ro(I),tu(Oe)):(kn(I),Ur(Oe))});function be(){bo(()=>{let O=b.value;O&&O.contains(document.activeElement)!==!0&&(O=O.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||O.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||O.querySelector("[autofocus], [data-autofocus]")||O,O.focus({preventScroll:!0}))})}function Ce(O){if(u=e.noRefocus===!1?document.activeElement:null,Vo(F),Pe(),z(),c=void 0,O!==void 0&&(e.touchPosition||e.contextMenu)){const Te=ul(O);if(Te.left!==void 0){const{top:Fe,left:Ue}=te.value.getBoundingClientRect();c={left:Te.left-Ue,top:Te.top-Fe}}}d===void 0&&(d=Ee(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,W)),e.noFocus!==!0&&document.activeElement.blur(),H(()=>{W(),e.noFocus!==!0&&be()}),Q(()=>{h.platform.is.ios===!0&&(g=e.autoClose,b.value.click()),W(),Pe(!0),r("show",O)},e.transitionDuration)}function S(O){k(),$e(),A(!0),u!==null&&(O===void 0||O.qClickOutside!==!0)&&(((O&&O.type.indexOf("key")===0?u.closest('[tabindex]:not([tabindex^="-"])'):void 0)||u).focus(),u=null),Q(()=>{$e(!0),r("hide",O)},e.transitionDuration)}function A(O){c=void 0,d!==void 0&&(d(),d=void 0),(O===!0||_.value===!0)&&(lr(F),J(),Ur(Oe),kn(I)),O!==!0&&(u=null)}function z(){(te.value!==null||e.scrollTarget!==void 0)&&(D.value=Ol(te.value,e.scrollTarget),L(D.value,W))}function ee(O){g!==!0?(Yl(p,O),r("click",O)):g=!1}function F(O){fe.value===!0&&e.noFocus!==!0&&wo(b.value,O.target)!==!0&&be()}function I(O){r("escapeKey"),de(O)}function W(){qo({targetEl:b.value,offset:e.offset,anchorEl:te.value,anchorOrigin:je.value,selfOrigin:Ve.value,absoluteOffset:c,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function oe(){return N(or,q.value,()=>_.value===!0?N("div",{role:"menu",...i,ref:b,tabindex:-1,class:["q-menu q-position-engine scroll"+ue.value,i.class],style:[i.style,$.value],...qe.value},sn(o.default)):null)}return Vt(A),Object.assign(p,{focus:be,updatePosition:W}),ye}});function lu(e,o,r){let i;function u(){i!==void 0&&(Wr.remove(i),i=void 0)}return Vt(()=>{e.value===!0&&u()}),{removeFromHistory:u,addToHistory(){i={condition:()=>r.value===!0,handler:o},Wr.add(i)}}}let nn=0,Zn,er,on,tr=!1,Xr,Jr,Zr,Ot=null;function uu(e){su(e)&&Je(e)}function su(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const o=sl(e),r=e.shiftKey&&!e.deltaX,i=!r&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),u=r||i?e.deltaY:e.deltaX;for(let c=0;c<o.length;c++){const d=o[c];if(Dl(d,i))return i?u<0&&d.scrollTop===0?!0:u>0&&d.scrollTop+d.clientHeight===d.scrollHeight:u<0&&d.scrollLeft===0?!0:u>0&&d.scrollLeft+d.clientWidth===d.scrollWidth}return!0}function eo(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function _n(e){tr!==!0&&(tr=!0,requestAnimationFrame(()=>{tr=!1;const{height:o}=e.target,{clientHeight:r,scrollTop:i}=document.scrollingElement;(on===void 0||o!==window.innerHeight)&&(on=r-o,document.scrollingElement.scrollTop=i),i>on&&(document.scrollingElement.scrollTop-=Math.ceil((i-on)/8))}))}function to(e){const o=document.body,r=window.visualViewport!==void 0;if(e==="add"){const{overflowY:i,overflowX:u}=window.getComputedStyle(o);Zn=Ml(window),er=Rl(window),Xr=o.style.left,Jr=o.style.top,Zr=window.location.href,o.style.left=`-${Zn}px`,o.style.top=`-${er}px`,u!=="hidden"&&(u==="scroll"||o.scrollWidth>window.innerWidth)&&o.classList.add("q-body--force-scrollbar-x"),i!=="hidden"&&(i==="scroll"||o.scrollHeight>window.innerHeight)&&o.classList.add("q-body--force-scrollbar-y"),o.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,st.is.ios===!0&&(r===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",_n,Xe.passiveCapture),window.visualViewport.addEventListener("scroll",_n,Xe.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",eo,Xe.passiveCapture))}st.is.desktop===!0&&st.is.mac===!0&&window[`${e}EventListener`]("wheel",uu,Xe.notPassive),e==="remove"&&(st.is.ios===!0&&(r===!0?(window.visualViewport.removeEventListener("resize",_n,Xe.passiveCapture),window.visualViewport.removeEventListener("scroll",_n,Xe.passiveCapture)):window.removeEventListener("scroll",eo,Xe.passiveCapture)),o.classList.remove("q-body--prevent-scroll"),o.classList.remove("q-body--force-scrollbar-x"),o.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,o.style.left=Xr,o.style.top=Jr,window.location.href===Zr&&window.scrollTo(Zn,er),on=void 0)}function cu(e){let o="add";if(e===!0){if(nn++,Ot!==null){clearTimeout(Ot),Ot=null;return}if(nn>1)return}else{if(nn===0||(nn--,nn>0))return;if(o="remove",st.is.ios===!0&&st.is.nativeMobile===!0){Ot!==null&&clearTimeout(Ot),Ot=setTimeout(()=>{to(o),Ot=null},100);return}}to(o)}function du(){let e;return{preventBodyScroll(o){o!==e&&(e!==void 0||o===!0)&&(e=o,cu(o))}}}let xn=0;const fu={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},no={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var vu=ct({name:"QDialog",inheritAttrs:!1,props:{...Eo,...Ao,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Po,"shake","click","escapeKey"],setup(e,{slots:o,emit:r,attrs:i}){const u=St(),c=X(null),d=X(!1),g=X(!1);let f=null,p=null,h,b;const _=B(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:C}=du(),{registerTimeout:x}=xo(),{registerTick:H,removeTick:k}=_o(),{transitionProps:Q,transitionStyle:q}=Oo(e,()=>no[e.position][0],()=>no[e.position][1]),{showPortal:$,hidePortal:D,portalIsAccessible:L,renderPortal:J}=ko(u,c,ee,"dialog"),{hide:te}=$o({showing:d,hideOnRouteChange:_,handleShow:je,handleHide:Ve,processOnMount:!0}),{addToHistory:ie,removeFromHistory:de}=lu(d,te,_),Pe=B(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${fu[e.position]}`+(g.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),$e=B(()=>d.value===!0&&e.seamless!==!0),ye=B(()=>e.autoClose===!0?{onClick:S}:{}),Oe=B(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${$e.value===!0?"modal":"seamless"}`,i.class]);Ee(()=>e.maximized,F=>{d.value===!0&&Ce(F)}),Ee($e,F=>{C(F),F===!0?(Vo(z),Ro(fe)):(lr(z),kn(fe))});function je(F){ie(),p=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,Ce(e.maximized),$(),g.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),H(ue)):k(),x(()=>{if(u.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:I,bottom:W}=document.activeElement.getBoundingClientRect(),{innerHeight:oe}=window,O=window.visualViewport!==void 0?window.visualViewport.height:oe;I>0&&W>O/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-O,W>=oe?1/0:Math.ceil(document.scrollingElement.scrollTop+W-O/2))),document.activeElement.scrollIntoView()}b=!0,c.value.click(),b=!1}$(!0),g.value=!1,r("show",F)},e.transitionDuration)}function Ve(F){k(),de(),be(!0),g.value=!0,D(),p!==null&&(((F&&F.type.indexOf("key")===0?p.closest('[tabindex]:not([tabindex^="-"])'):void 0)||p).focus(),p=null),x(()=>{D(!0),g.value=!1,r("hide",F)},e.transitionDuration)}function ue(F){bo(()=>{let I=c.value;I===null||I.contains(document.activeElement)===!0||(I=(F!==""?I.querySelector(F):null)||I.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||I.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||I.querySelector("[autofocus], [data-autofocus]")||I,I.focus({preventScroll:!0}))})}function qe(F){F&&typeof F.focus=="function"?F.focus({preventScroll:!0}):ue(),r("shake");const I=c.value;I!==null&&(I.classList.remove("q-animate--scale"),I.classList.add("q-animate--scale"),f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,c.value!==null&&(I.classList.remove("q-animate--scale"),ue())},170))}function fe(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&qe():(r("escapeKey"),te()))}function be(F){f!==null&&(clearTimeout(f),f=null),(F===!0||d.value===!0)&&(Ce(!1),e.seamless!==!0&&(C(!1),lr(z),kn(fe))),F!==!0&&(p=null)}function Ce(F){F===!0?h!==!0&&(xn<1&&document.body.classList.add("q-body--dialog"),xn++,h=!0):h===!0&&(xn<2&&document.body.classList.remove("q-body--dialog"),xn--,h=!1)}function S(F){b!==!0&&(te(F),r("click",F))}function A(F){e.persistent!==!0&&e.noBackdropDismiss!==!0?te(F):e.noShake!==!0&&qe()}function z(F){e.allowFocusOutside!==!0&&L.value===!0&&wo(c.value,F.target)!==!0&&ue('[tabindex]:not([tabindex="-1"])')}Object.assign(u.proxy,{focus:ue,shake:qe,__updateRefocusTarget(F){p=F||null}}),Vt(be);function ee(){return N("div",{role:"dialog","aria-modal":$e.value===!0?"true":"false",...i,class:Oe.value},[N(or,{name:"q-transition--fade",appear:!0},()=>$e.value===!0?N("div",{class:"q-dialog__backdrop fixed-full",style:q.value,"aria-hidden":"true",tabindex:-1,onClick:A}):null),N(or,Q.value,()=>d.value===!0?N("div",{ref:c,class:Pe.value,style:q.value,tabindex:-1,...ye.value},sn(o.default)):null)])}return J}});const Ye=1e3,mu=["start","center","end","start-force","center-force","end-force"],Fo=Array.prototype.filter,hu=window.getComputedStyle(document.body).overflowAnchor===void 0?cl:function(e,o){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const r=e.children||[];Fo.call(r,u=>u.dataset&&u.dataset.qVsAnchor!==void 0).forEach(u=>{delete u.dataset.qVsAnchor});const i=r[o];i&&i.dataset&&(i.dataset.qVsAnchor="")}))};function Ht(e,o){return e+o}function nr(e,o,r,i,u,c,d,g){const f=e===window?document.scrollingElement||document.documentElement:e,p=u===!0?"offsetWidth":"offsetHeight",h={scrollStart:0,scrollViewSize:-d-g,scrollMaxSize:0,offsetStart:-d,offsetEnd:-g};if(u===!0?(e===window?(h.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,h.scrollViewSize+=document.documentElement.clientWidth):(h.scrollStart=f.scrollLeft,h.scrollViewSize+=f.clientWidth),h.scrollMaxSize=f.scrollWidth,c===!0&&(h.scrollStart=(ir===!0?h.scrollMaxSize-h.scrollViewSize:0)-h.scrollStart)):(e===window?(h.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,h.scrollViewSize+=document.documentElement.clientHeight):(h.scrollStart=f.scrollTop,h.scrollViewSize+=f.clientHeight),h.scrollMaxSize=f.scrollHeight),r!==null)for(let b=r.previousElementSibling;b!==null;b=b.previousElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(h.offsetStart+=b[p]);if(i!==null)for(let b=i.nextElementSibling;b!==null;b=b.nextElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(h.offsetEnd+=b[p]);if(o!==e){const b=f.getBoundingClientRect(),_=o.getBoundingClientRect();u===!0?(h.offsetStart+=_.left-b.left,h.offsetEnd-=_.width):(h.offsetStart+=_.top-b.top,h.offsetEnd-=_.height),e!==window&&(h.offsetStart+=h.scrollStart),h.offsetEnd+=h.scrollMaxSize-h.offsetStart}return h}function ro(e,o,r,i){o==="end"&&(o=(e===window?document.body:e)[r===!0?"scrollWidth":"scrollHeight"]),e===window?r===!0?(i===!0&&(o=(ir===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-o),window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o):r===!0?(i===!0&&(o=(ir===!0?e.scrollWidth-e.offsetWidth:0)-o),e.scrollLeft=o):e.scrollTop=o}function rn(e,o,r,i){if(r>=i)return 0;const u=o.length,c=Math.floor(r/Ye),d=Math.floor((i-1)/Ye)+1;let g=e.slice(c,d).reduce(Ht,0);return r%Ye!==0&&(g-=o.slice(c*Ye,r).reduce(Ht,0)),i%Ye!==0&&i!==u&&(g-=o.slice(i,d*Ye).reduce(Ht,0)),g}const pu={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},gu={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...pu};function yu({virtualScrollLength:e,getVirtualScrollTarget:o,getVirtualScrollEl:r,virtualScrollItemSizeComputed:i}){const u=St(),{props:c,emit:d,proxy:g}=u,{$q:f}=g;let p,h,b,_=[],C;const x=X(0),H=X(0),k=X({}),Q=X(null),q=X(null),$=X(null),D=X({from:0,to:0}),L=B(()=>c.tableColspan!==void 0?c.tableColspan:100);i===void 0&&(i=B(()=>c.virtualScrollItemSize));const J=B(()=>i.value+";"+c.virtualScrollHorizontal),te=B(()=>J.value+";"+c.virtualScrollSliceRatioBefore+";"+c.virtualScrollSliceRatioAfter);Ee(te,()=>{ue()}),Ee(J,ie);function ie(){Ve(h,!0)}function de(S){Ve(S===void 0?h:S)}function Pe(S,A){const z=o();if(z==null||z.nodeType===8)return;const ee=nr(z,r(),Q.value,q.value,c.virtualScrollHorizontal,f.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd);b!==ee.scrollViewSize&&ue(ee.scrollViewSize),ye(z,ee,Math.min(e.value-1,Math.max(0,parseInt(S,10)||0)),0,mu.indexOf(A)>-1?A:h>-1&&S>h?"end":"start")}function $e(){const S=o();if(S==null||S.nodeType===8)return;const A=nr(S,r(),Q.value,q.value,c.virtualScrollHorizontal,f.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd),z=e.value-1,ee=A.scrollMaxSize-A.offsetStart-A.offsetEnd-H.value;if(p===A.scrollStart)return;if(A.scrollMaxSize<=0){ye(S,A,0,0);return}b!==A.scrollViewSize&&ue(A.scrollViewSize),Oe(D.value.from);const F=Math.floor(A.scrollMaxSize-Math.max(A.scrollViewSize,A.offsetEnd)-Math.min(C[z],A.scrollViewSize/2));if(F>0&&Math.ceil(A.scrollStart)>=F){ye(S,A,z,A.scrollMaxSize-A.offsetEnd-_.reduce(Ht,0));return}let I=0,W=A.scrollStart-A.offsetStart,oe=W;if(W<=ee&&W+A.scrollViewSize>=x.value)W-=x.value,I=D.value.from,oe=W;else for(let O=0;W>=_[O]&&I<z;O++)W-=_[O],I+=Ye;for(;W>0&&I<z;)W-=C[I],W>-A.scrollViewSize?(I++,oe=W):oe=C[I]+W;ye(S,A,I,oe)}function ye(S,A,z,ee,F){const I=typeof F=="string"&&F.indexOf("-force")>-1,W=I===!0?F.replace("-force",""):F,oe=W!==void 0?W:"start";let O=Math.max(0,z-k.value[oe]),Te=O+k.value.total;Te>e.value&&(Te=e.value,O=Math.max(0,Te-k.value.total)),p=A.scrollStart;const Fe=O!==D.value.from||Te!==D.value.to;if(Fe===!1&&W===void 0){fe(z);return}const{activeElement:Ue}=document,Me=$.value;Fe===!0&&Me!==null&&Me!==Ue&&Me.contains(Ue)===!0&&(Me.addEventListener("focusout",je),setTimeout(()=>{Me!==null&&Me.removeEventListener("focusout",je)})),hu(Me,z-O);const qt=W!==void 0?C.slice(O,z).reduce(Ht,0):0;if(Fe===!0){const Ae=Te>=D.value.from&&O<=D.value.to?D.value.to:Te;D.value={from:O,to:Ae},x.value=rn(_,C,0,O),H.value=rn(_,C,Te,e.value),requestAnimationFrame(()=>{D.value.to!==Te&&p===A.scrollStart&&(D.value={from:D.value.from,to:Te},H.value=rn(_,C,Te,e.value))})}requestAnimationFrame(()=>{if(p!==A.scrollStart)return;Fe===!0&&Oe(O);const Ae=C.slice(O,z).reduce(Ht,0),et=Ae+A.offsetStart+x.value,dt=et+C[z];let Ct=et+ee;if(W!==void 0){const Tt=Ae-qt,_t=A.scrollStart+Tt;Ct=I!==!0&&_t<et&&dt<_t+A.scrollViewSize?_t:W==="end"?dt-A.scrollViewSize:et-(W==="start"?0:Math.round((A.scrollViewSize-C[z])/2))}p=Ct,ro(S,Ct,c.virtualScrollHorizontal,f.lang.rtl),fe(z)})}function Oe(S){const A=$.value;if(A){const z=Fo.call(A.children,O=>O.classList&&O.classList.contains("q-virtual-scroll--skip")===!1),ee=z.length,F=c.virtualScrollHorizontal===!0?O=>O.getBoundingClientRect().width:O=>O.offsetHeight;let I=S,W,oe;for(let O=0;O<ee;){for(W=F(z[O]),O++;O<ee&&z[O].classList.contains("q-virtual-scroll--with-prev")===!0;)W+=F(z[O]),O++;oe=W-C[I],oe!==0&&(C[I]+=oe,_[Math.floor(I/Ye)]+=oe),I++}}}function je(){$.value!==null&&$.value!==void 0&&$.value.focus()}function Ve(S,A){const z=1*i.value;(A===!0||Array.isArray(C)===!1)&&(C=[]);const ee=C.length;C.length=e.value;for(let I=e.value-1;I>=ee;I--)C[I]=z;const F=Math.floor((e.value-1)/Ye);_=[];for(let I=0;I<=F;I++){let W=0;const oe=Math.min((I+1)*Ye,e.value);for(let O=I*Ye;O<oe;O++)W+=C[O];_.push(W)}h=-1,p=void 0,x.value=rn(_,C,0,D.value.from),H.value=rn(_,C,D.value.to,e.value),S>=0?(Oe(D.value.from),Ge(()=>{Pe(S)})):be()}function ue(S){if(S===void 0&&typeof window!="undefined"){const W=o();W!=null&&W.nodeType!==8&&(S=nr(W,r(),Q.value,q.value,c.virtualScrollHorizontal,f.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd).scrollViewSize)}b=S;const A=parseFloat(c.virtualScrollSliceRatioBefore)||0,z=parseFloat(c.virtualScrollSliceRatioAfter)||0,ee=1+A+z,F=S===void 0||S<=0?1:Math.ceil(S/i.value),I=Math.max(1,F,Math.ceil((c.virtualScrollSliceSize>0?c.virtualScrollSliceSize:10)/ee));k.value={total:Math.ceil(I*ee),start:Math.ceil(I*A),center:Math.ceil(I*(.5+A)),end:Math.ceil(I*(1+A)),view:F}}function qe(S,A){const z=c.virtualScrollHorizontal===!0?"width":"height",ee={["--q-virtual-scroll-item-"+z]:i.value+"px"};return[S==="tbody"?N(S,{class:"q-virtual-scroll__padding",key:"before",ref:Q},[N("tr",[N("td",{style:{[z]:`${x.value}px`,...ee},colspan:L.value})])]):N(S,{class:"q-virtual-scroll__padding",key:"before",ref:Q,style:{[z]:`${x.value}px`,...ee}}),N(S,{class:"q-virtual-scroll__content",key:"content",ref:$,tabindex:-1},A.flat()),S==="tbody"?N(S,{class:"q-virtual-scroll__padding",key:"after",ref:q},[N("tr",[N("td",{style:{[z]:`${H.value}px`,...ee},colspan:L.value})])]):N(S,{class:"q-virtual-scroll__padding",key:"after",ref:q,style:{[z]:`${H.value}px`,...ee}})]}function fe(S){h!==S&&(c.onVirtualScroll!==void 0&&d("virtualScroll",{index:S,from:D.value.from,to:D.value.to-1,direction:S<h?"decrease":"increase",ref:g}),h=S)}ue();const be=dl($e,f.platform.is.ios===!0?120:35);fl(()=>{ue()});let Ce=!1;return vl(()=>{Ce=!0}),ml(()=>{if(Ce!==!0)return;const S=o();p!==void 0&&S!==void 0&&S!==null&&S.nodeType!==8?ro(S,p,c.virtualScrollHorizontal,f.lang.rtl):Pe(h)}),Vt(()=>{be.cancel()}),Object.assign(g,{scrollTo:Pe,reset:ie,refresh:de}),{virtualScrollSliceRange:D,virtualScrollSliceSizeComputed:k,setVirtualScrollSize:ue,onVirtualScrollEvt:be,localResetVirtualScroll:Ve,padVirtualScroll:qe,scrollTo:Pe,reset:ie,refresh:de}}function oo(e,o,r){if(r<=o)return o;const i=r-o+1;let u=o+(e-o)%i;return u<o&&(u=i+u),u===0?0:u}const ao=e=>["add","add-unique","toggle"].includes(e),bu=".*+?^${}()|[]\\",wu=Object.keys(cr);var Su=ct({name:"QSelect",inheritAttrs:!1,props:{...gu,...Ui,...cr,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:ao},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...po,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:o,emit:r}){const{proxy:i}=St(),{$q:u}=i,c=X(!1),d=X(!1),g=X(-1),f=X(""),p=X(!1),h=X(!1);let b=null,_=null,C,x,H,k=null,Q,q,$,D;const L=X(null),J=X(null),te=X(null),ie=X(null),de=X(null),Pe=Ni(e),$e=Ki(fn),ye=B(()=>Array.isArray(e.options)?e.options.length:0),Oe=B(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:je,virtualScrollSliceSizeComputed:Ve,localResetVirtualScroll:ue,padVirtualScroll:qe,onVirtualScrollEvt:fe,scrollTo:be,setVirtualScrollSize:Ce}=yu({virtualScrollLength:ye,getVirtualScrollTarget:qn,getVirtualScrollEl:Z,virtualScrollItemSizeComputed:Oe}),S=yo(),A=B(()=>{const s=e.mapOptions===!0&&e.multiple!==!0,R=e.modelValue!==void 0&&(e.modelValue!==null||s===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const M=e.mapOptions===!0&&C!==void 0?C:[],G=R.map(re=>Bt(re,M));return e.modelValue===null&&s===!0?G.filter(re=>re!==null):G}return R}),z=B(()=>{const s={};return wu.forEach(R=>{const M=e[R];M!==void 0&&(s[R]=M)}),s}),ee=B(()=>e.optionsDark===null?S.isDark.value:e.optionsDark),F=B(()=>jr(A.value)),I=B(()=>{let s="q-field__input q-placeholder col";return e.hideSelected===!0||A.value.length===0?[s,e.inputClass]:(s+=" q-field__input--padding",e.inputClass===void 0?s:[s,e.inputClass])}),W=B(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),oe=B(()=>ye.value===0),O=B(()=>A.value.map(s=>Re.value(s)).join(", ")),Te=B(()=>e.displayValue!==void 0?e.displayValue:O.value),Fe=B(()=>e.optionsHtml===!0?()=>!0:s=>s!=null&&s.html===!0),Ue=B(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||A.value.some(Fe.value))),Me=B(()=>S.focused.value===!0?e.tabindex:-1),qt=B(()=>{const s={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":c.value===!0?"true":"false","aria-controls":`${S.targetUid.value}_lb`};return g.value>=0&&(s["aria-activedescendant"]=`${S.targetUid.value}_${g.value}`),s}),Ae=B(()=>({id:`${S.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),et=B(()=>A.value.map((s,R)=>({index:R,opt:s,html:Fe.value(s),selected:!0,removeAtIndex:Kt,toggleOption:De,tabindex:Me.value}))),dt=B(()=>{if(ye.value===0)return[];const{from:s,to:R}=je.value;return e.options.slice(s,R).map((M,G)=>{const re=ft.value(M)===!0,ne=Qt(M)===!0,_e=s+G,le={clickable:!0,active:ne,activeClass:_t.value,manualFocus:!0,focused:!1,disable:re,tabindex:-1,dense:e.optionsDense,dark:ee.value,role:"option","aria-selected":ne===!0?"true":"false",id:`${S.targetUid.value}_${_e}`,onClick:()=>{De(M)}};return re!==!0&&(g.value===_e&&(le.focused=!0),u.platform.is.desktop===!0&&(le.onMousemove=()=>{c.value===!0&&Ne(_e)})),{index:_e,opt:M,html:Fe.value(M),label:Re.value(M),selected:le.active,focused:le.focused,toggleOption:De,setOptionIndex:Ne,itemProps:le}})}),Ct=B(()=>e.dropdownIcon!==void 0?e.dropdownIcon:u.iconSet.arrow.dropdown),Tt=B(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),_t=B(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),He=B(()=>Ke(e.optionValue,"value")),Re=B(()=>Ke(e.optionLabel,"label")),ft=B(()=>Ke(e.optionDisable,"disable")),Ft=B(()=>A.value.map(s=>He.value(s))),Vn=B(()=>{const s={onInput:fn,onChange:$e,onKeydown:nt,onKeyup:Gt,onKeypress:we,onFocus:cn,onClick(R){x===!0&&Lt(R)}};return s.onCompositionstart=s.onCompositionupdate=s.onCompositionend=$e,s});Ee(A,s=>{C=s,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&S.innerLoading.value!==!0&&(d.value!==!0&&c.value!==!0||F.value!==!0)&&(H!==!0&&pt(),(d.value===!0||c.value===!0)&&ot(""))},{immediate:!0}),Ee(()=>e.fillInput,pt),Ee(c,Xt),Ee(ye,jt);function xt(s){return e.emitValue===!0?He.value(s):s}function Et(s){if(s>-1&&s<A.value.length)if(e.multiple===!0){const R=e.modelValue.slice();r("remove",{index:s,value:R.splice(s,1)[0]}),r("update:modelValue",R)}else r("update:modelValue",null)}function Kt(s){Et(s),S.focus()}function tt(s,R){const M=xt(s);if(e.multiple!==!0){e.fillInput===!0&&rt(Re.value(s),!0,!0),r("update:modelValue",M);return}if(A.value.length===0){r("add",{index:0,value:M}),r("update:modelValue",e.multiple===!0?[M]:M);return}if(R===!0&&Qt(s)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const G=e.modelValue.slice();r("add",{index:G.length,value:M}),G.push(M),r("update:modelValue",G)}function De(s,R){if(S.editable.value!==!0||s===void 0||ft.value(s)===!0)return;const M=He.value(s);if(e.multiple!==!0){R!==!0&&(rt(e.fillInput===!0?Re.value(s):"",!0,!0),Le()),J.value!==null&&J.value.focus(),(A.value.length===0||tn(He.value(A.value[0]),M)!==!0)&&r("update:modelValue",e.emitValue===!0?M:s);return}if((x!==!0||p.value===!0)&&S.focus(),cn(),A.value.length===0){const ne=e.emitValue===!0?M:s;r("add",{index:0,value:ne}),r("update:modelValue",e.multiple===!0?[ne]:ne);return}const G=e.modelValue.slice(),re=Ft.value.findIndex(ne=>tn(ne,M));if(re>-1)r("remove",{index:re,value:G.splice(re,1)[0]});else{if(e.maxValues!==void 0&&G.length>=e.maxValues)return;const ne=e.emitValue===!0?M:s;r("add",{index:G.length,value:ne}),G.push(ne)}r("update:modelValue",G)}function Ne(s){if(u.platform.is.desktop!==!0)return;const R=s>-1&&s<ye.value?s:-1;g.value!==R&&(g.value=R)}function Pt(s=1,R){if(c.value===!0){let M=g.value;do M=oo(M+s,-1,ye.value-1);while(M!==-1&&M!==g.value&&ft.value(e.options[M])===!0);g.value!==M&&(Ne(M),be(M),R!==!0&&e.useInput===!0&&e.fillInput===!0&&vt(M>=0?Re.value(e.options[M]):Q,!0))}}function Bt(s,R){const M=G=>tn(He.value(G),s);return e.options.find(M)||R.find(M)||s}function Ke(s,R){const M=s!==void 0?s:R;return typeof M=="function"?M:G=>G!==null&&typeof G=="object"&&M in G?G[M]:G}function Qt(s){const R=He.value(s);return Ft.value.find(M=>tn(M,R))!==void 0}function cn(s){e.useInput===!0&&J.value!==null&&(s===void 0||J.value===s.target&&s.target.value===O.value)&&J.value.select()}function dn(s){Rn(s,27)===!0&&c.value===!0&&(Lt(s),Le(),pt()),r("keyup",s)}function Gt(s){const{value:R}=s.target;if(s.keyCode!==void 0){dn(s);return}if(s.target.value="",b!==null&&(clearTimeout(b),b=null),_!==null&&(clearTimeout(_),_=null),pt(),typeof R=="string"&&R.length!==0){const M=R.toLocaleLowerCase(),G=ne=>{const _e=e.options.find(le=>ne.value(le).toLocaleLowerCase()===M);return _e===void 0?!1:(A.value.indexOf(_e)===-1?De(_e):Le(),!0)},re=ne=>{G(He)!==!0&&(G(Re)===!0||ne===!0||ot(R,!0,()=>re(!0)))};re()}else S.clearValue(s)}function we(s){r("keypress",s)}function nt(s){if(r("keydown",s),gl(s)===!0)return;const R=f.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),M=s.shiftKey!==!0&&e.multiple!==!0&&(g.value>-1||R===!0);if(s.keyCode===27){ln(s);return}if(s.keyCode===9&&M===!1){mt();return}if(s.target===void 0||s.target.id!==S.targetUid.value||S.editable.value!==!0)return;if(s.keyCode===40&&S.innerLoading.value!==!0&&c.value===!1){Je(s),ht();return}if(s.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&f.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Et(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&r("update:modelValue",null);return}(s.keyCode===35||s.keyCode===36)&&(typeof f.value!="string"||f.value.length===0)&&(Je(s),g.value=-1,Pt(s.keyCode===36?1:-1,e.multiple)),(s.keyCode===33||s.keyCode===34)&&Ve.value!==void 0&&(Je(s),g.value=Math.max(-1,Math.min(ye.value,g.value+(s.keyCode===33?-1:1)*Ve.value.view)),Pt(s.keyCode===33?1:-1,e.multiple)),(s.keyCode===38||s.keyCode===40)&&(Je(s),Pt(s.keyCode===38?-1:1,e.multiple));const G=ye.value;if(($===void 0||D<Date.now())&&($=""),G>0&&e.useInput!==!0&&s.key!==void 0&&s.key.length===1&&s.altKey===!1&&s.ctrlKey===!1&&s.metaKey===!1&&(s.keyCode!==32||$.length!==0)){c.value!==!0&&ht(s);const re=s.key.toLocaleLowerCase(),ne=$.length===1&&$[0]===re;D=Date.now()+1500,ne===!1&&(Je(s),$+=re);const _e=new RegExp("^"+$.split("").map(Jt=>bu.indexOf(Jt)>-1?"\\"+Jt:Jt).join(".*"),"i");let le=g.value;if(ne===!0||le<0||_e.test(Re.value(e.options[le]))!==!0)do le=oo(le+1,-1,G-1);while(le!==g.value&&(ft.value(e.options[le])===!0||_e.test(Re.value(e.options[le]))!==!0));g.value!==le&&Ge(()=>{Ne(le),be(le),le>=0&&e.useInput===!0&&e.fillInput===!0&&vt(Re.value(e.options[le]),!0)});return}if(!(s.keyCode!==13&&(s.keyCode!==32||e.useInput===!0||$!=="")&&(s.keyCode!==9||M===!1))){if(s.keyCode!==9&&Je(s),g.value>-1&&g.value<G){De(e.options[g.value]);return}if(R===!0){const re=(ne,_e)=>{if(_e){if(ao(_e)!==!0)return}else _e=e.newValueMode;if(rt("",e.multiple!==!0,!0),ne==null)return;(_e==="toggle"?De:tt)(ne,_e==="add-unique"),e.multiple!==!0&&(J.value!==null&&J.value.focus(),Le())};if(e.onNewValue!==void 0?r("newValue",f.value,re):re(f.value),e.multiple!==!0)return}c.value===!0?mt():S.innerLoading.value!==!0&&ht()}}function Z(){return x===!0?de.value:te.value!==null&&te.value.contentEl!==null?te.value.contentEl:void 0}function qn(){return Z()}function We(){return e.hideSelected===!0?[]:o["selected-item"]!==void 0?et.value.map(s=>o["selected-item"](s)).slice():o.selected!==void 0?[].concat(o.selected()):e.useChips===!0?et.value.map((s,R)=>N(Bl,{key:"option-"+R,removable:S.editable.value===!0&&ft.value(s.opt)!==!0,dense:!0,textColor:e.color,tabindex:Me.value,onRemove(){s.removeAtIndex(R)}},()=>N("span",{class:"ellipsis",[s.html===!0?"innerHTML":"textContent"]:Re.value(s.opt)}))):[N("span",{[Ue.value===!0?"innerHTML":"textContent"]:Te.value})]}function Ie(){if(oe.value===!0)return o["no-option"]!==void 0?o["no-option"]({inputValue:f.value}):void 0;const s=o.option!==void 0?o.option:M=>N(jl,{key:M.index,...M.itemProps},()=>N(Il,()=>N(Ll,()=>N("span",{[M.html===!0?"innerHTML":"textContent"]:M.label}))));let R=qe("div",dt.value.map(s));return o["before-options"]!==void 0&&(R=o["before-options"]().concat(R)),Xi(o["after-options"],R)}function Fn(s,R){const M=R===!0?{...qt.value,...S.splitAttrs.attributes.value}:void 0,G={ref:R===!0?J:void 0,key:"i_t",class:I.value,style:e.inputStyle,value:f.value!==void 0?f.value:"",type:"search",...M,id:R===!0?S.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":s===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Vn.value};return s!==!0&&x===!0&&(Array.isArray(G.class)===!0?G.class=[...G.class,"no-pointer-events"]:G.class+=" no-pointer-events"),N("input",G)}function fn(s){b!==null&&(clearTimeout(b),b=null),_!==null&&(clearTimeout(_),_=null),!(s&&s.target&&s.target.qComposing===!0)&&(vt(s.target.value||""),H=!0,Q=f.value,S.focused.value!==!0&&(x!==!0||p.value===!0)&&S.focus(),e.onFilter!==void 0&&(b=setTimeout(()=>{b=null,ot(f.value)},e.inputDebounce)))}function vt(s,R){f.value!==s&&(f.value=s,R===!0||e.inputDebounce===0||e.inputDebounce==="0"?r("inputValue",s):_=setTimeout(()=>{_=null,r("inputValue",s)},e.inputDebounce))}function rt(s,R,M){H=M!==!0,e.useInput===!0&&(vt(s,!0),(R===!0||M!==!0)&&(Q=s),R!==!0&&ot(s))}function ot(s,R,M){if(e.onFilter===void 0||R!==!0&&S.focused.value!==!0)return;S.innerLoading.value===!0?r("filterAbort"):(S.innerLoading.value=!0,h.value=!0),s!==""&&e.multiple!==!0&&A.value.length!==0&&H!==!0&&s===Re.value(A.value[0])&&(s="");const G=setTimeout(()=>{c.value===!0&&(c.value=!1)},10);k!==null&&clearTimeout(k),k=G,r("filter",s,(re,ne)=>{(R===!0||S.focused.value===!0)&&k===G&&(clearTimeout(k),typeof re=="function"&&re(),h.value=!1,Ge(()=>{S.innerLoading.value=!1,S.editable.value===!0&&(R===!0?c.value===!0&&Le():c.value===!0?Xt(!0):c.value=!0),typeof ne=="function"&&Ge(()=>{ne(i)}),typeof M=="function"&&Ge(()=>{M(i)})}))},()=>{S.focused.value===!0&&k===G&&(clearTimeout(k),S.innerLoading.value=!1,h.value=!1),c.value===!0&&(c.value=!1)})}function Bn(){return N(iu,{ref:te,class:W.value,style:e.popupContentStyle,modelValue:c.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&oe.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ee.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Tt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ae.value,onScrollPassive:fe,onBeforeShow:gt,onBeforeHide:vn,onShow:mn},Ie)}function vn(s){gn(s),mt()}function mn(){Ce()}function hn(s){Lt(s),J.value!==null&&J.value.focus(),p.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function jn(s){Lt(s),Ge(()=>{p.value=!1})}function In(){const s=[N(ql,{class:`col-auto ${S.fieldClass.value}`,...z.value,for:S.targetUid.value,dark:ee.value,square:!0,loading:h.value,itemAligned:!1,filled:!0,stackLabel:f.value.length!==0,...S.splitAttrs.listeners.value,onFocus:hn,onBlur:jn},{...o,rawControl:()=>S.getControl(!0),before:void 0,after:void 0})];return c.value===!0&&s.push(N("div",{ref:de,class:W.value+" scroll",style:e.popupContentStyle,...Ae.value,onClick:ln,onScrollPassive:fe},Ie())),N(vu,{ref:ie,modelValue:d.value,position:e.useInput===!0?"top":void 0,transitionShow:q,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:gt,onBeforeHide:$t,onHide:Yt,onShow:kt},()=>N("div",{class:"q-select__dialog"+(ee.value===!0?" q-select__dialog--dark q-dark":"")+(p.value===!0?" q-select__dialog--focused":"")},s))}function $t(s){gn(s),ie.value!==null&&ie.value.__updateRefocusTarget(S.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),S.focused.value=!1}function Yt(s){Le(),S.focused.value===!1&&r("blur",s),pt()}function kt(){const s=document.activeElement;(s===null||s.id!==S.targetUid.value)&&J.value!==null&&J.value!==s&&J.value.focus(),Ce()}function mt(){d.value!==!0&&(g.value=-1,c.value===!0&&(c.value=!1),S.focused.value===!1&&(k!==null&&(clearTimeout(k),k=null),S.innerLoading.value===!0&&(r("filterAbort"),S.innerLoading.value=!1,h.value=!1)))}function ht(s){S.editable.value===!0&&(x===!0?(S.onControlFocusin(s),d.value=!0,Ge(()=>{S.focus()})):S.focus(),e.onFilter!==void 0?ot(f.value):(oe.value!==!0||o["no-option"]!==void 0)&&(c.value=!0))}function Le(){d.value=!1,mt()}function pt(){e.useInput===!0&&rt(e.multiple!==!0&&e.fillInput===!0&&A.value.length!==0&&Re.value(A.value[0])||"",!0,!0)}function Xt(s){let R=-1;if(s===!0){if(A.value.length!==0){const M=He.value(A.value[0]);R=e.options.findIndex(G=>tn(He.value(G),M))}ue(R)}Ne(R)}function jt(s,R){c.value===!0&&S.innerLoading.value===!1&&(ue(-1,!0),Ge(()=>{c.value===!0&&S.innerLoading.value===!1&&(s>R?ue():Xt(!0))}))}function pn(){d.value===!1&&te.value!==null&&te.value.updatePosition()}function gt(s){s!==void 0&&Lt(s),r("popupShow",s),S.hasPopupOpen=!0,S.onControlFocusin(s)}function gn(s){s!==void 0&&Lt(s),r("popupHide",s),S.hasPopupOpen=!1,S.onControlFocusout(s)}function At(){x=u.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?o["no-option"]!==void 0||e.onFilter!==void 0||oe.value===!1:!0),q=u.platform.is.ios===!0&&x===!0&&e.useInput===!0?"fade":e.transitionShow}return hl(At),pl(pn),At(),Vt(()=>{b!==null&&clearTimeout(b),_!==null&&clearTimeout(_)}),Object.assign(i,{showPopup:ht,hidePopup:Le,removeAtIndex:Et,add:tt,toggleOption:De,getOptionIndex:()=>g.value,setOptionIndex:Ne,moveOptionSelection:Pt,filter:ot,updateMenuPosition:pn,updateInputValue:rt,isOptionSelected:Qt,getEmittingOptionValue:xt,isOptionDisabled:(...s)=>ft.value.apply(null,s)===!0,getOptionValue:(...s)=>He.value.apply(null,s),getOptionLabel:(...s)=>Re.value.apply(null,s)}),Object.assign(S,{innerValue:A,fieldClass:B(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:L,targetRef:J,hasValue:F,showPopup:ht,floatingLabel:B(()=>e.hideSelected!==!0&&F.value===!0||typeof f.value=="number"||f.value.length!==0||jr(e.displayValue)),getControlChild:()=>{if(S.editable.value!==!1&&(d.value===!0||oe.value!==!0||o["no-option"]!==void 0))return x===!0?In():Bn();S.hasPopupOpen===!0&&(S.hasPopupOpen=!1)},controlEvents:{onFocusin(s){S.onControlFocusin(s)},onFocusout(s){S.onControlFocusout(s,()=>{pt(),mt()})},onClick(s){if(ln(s),x!==!0&&c.value===!0){mt(),J.value!==null&&J.value.focus();return}ht(s)}},getControl:s=>{const R=We(),M=s===!0||d.value!==!0||x!==!0;if(e.useInput===!0)R.push(Fn(s,M));else if(S.editable.value===!0){const re=M===!0?qt.value:void 0;R.push(N("input",{ref:M===!0?J:void 0,key:"d_t",class:"q-select__focus-target",id:M===!0?S.targetUid.value:void 0,value:Te.value,readonly:!0,"data-autofocus":s===!0||e.autofocus===!0||void 0,...re,onKeydown:nt,onKeyup:dn,onKeypress:we})),M===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&R.push(N("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Gt}))}if(Pe.value!==void 0&&e.disable!==!0&&Ft.value.length!==0){const re=Ft.value.map(ne=>N("option",{value:ne,selected:!0}));R.push(N("select",{class:"hidden",name:Pe.value,multiple:e.multiple},re))}const G=e.useInput===!0||M!==!0?void 0:S.splitAttrs.attributes.value;return N("div",{class:"q-field__native row items-center",...G,...S.splitAttrs.listeners.value},R)},getInnerAppend:()=>e.loading!==!0&&h.value!==!0&&e.hideDropdownIcon!==!0?[N(En,{class:"q-select__dropdown-icon"+(c.value===!0?" rotate-180":""),name:Ct.value})]:null}),go(S)}}),Cu=ct({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:o}){const r=B(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>N(e.tag,{class:r.value},sn(o.default))}}),Bo=(e,o,r)=>{if(!o.has(e))throw TypeError("Cannot "+r)},io=(e,o,r)=>(Bo(e,o,"read from private field"),r?r.call(e):o.get(e)),Tu=(e,o,r)=>{if(o.has(e))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(e):o.set(e,r)},_u=(e,o,r,i)=>(Bo(e,o,"write to private field"),i?i.call(e,r):o.set(e,r),r);const jo=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],xu=[...jo,["unknown"]].map(e=>e[0]),Pn=new Map(jo);function Eu(e){for(const[o,r]of Pn)if(e===r)return o;return"unknown"}function Pu(e){if(Io(e))return{width:e.naturalWidth,height:e.naturalHeight};if(Lo(e))return{width:e.width.baseVal.value,height:e.height.baseVal.value};if(Ho(e))return{width:e.videoWidth,height:e.videoHeight};if(zo(e))return{width:e.width,height:e.height};if(No(e))return{width:e.displayWidth,height:e.displayHeight};if(Wo(e))return{width:e.width,height:e.height};if(Uo(e))return{width:e.width,height:e.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function Io(e){try{return e instanceof HTMLImageElement}catch{return!1}}function Lo(e){try{return e instanceof SVGImageElement}catch{return!1}}function Ho(e){try{return e instanceof HTMLVideoElement}catch{return!1}}function Wo(e){try{return e instanceof HTMLCanvasElement}catch{return!1}}function zo(e){try{return e instanceof ImageBitmap}catch{return!1}}function Uo(e){try{return e instanceof OffscreenCanvas}catch{return!1}}function No(e){try{return e instanceof VideoFrame}catch{return!1}}function Ko(e){try{return e instanceof Blob}catch{return!1}}function $u(e){try{return e instanceof ImageData}catch{return!1}}function ku(e,o){try{const r=new OffscreenCanvas(e,o);if(r.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return r;throw void 0}catch{const i=document.createElement("canvas");return i.width=e,i.height=o,i}}async function Qo(e){if(Io(e)&&!await Ru(e))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Lo(e)&&!await Du(e))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(No(e)&&Vu(e))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(Ho(e)&&(e.readyState===0||e.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(zo(e)&&Fu(e))throw new DOMException("The image source is detached.","InvalidStateError");const{width:o,height:r}=Pu(e);if(o===0||r===0)return null;const i=ku(o,r).getContext("2d");i.drawImage(e,0,0);try{return i.getImageData(0,0,o,r)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Au(e){let o;try{if(globalThis.createImageBitmap)o=await createImageBitmap(e);else if(globalThis.Image){o=new Image;let r="";try{r=URL.createObjectURL(e),o.src=r,await o.decode()}finally{URL.revokeObjectURL(r)}}else return e}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await Qo(o)}function Ou(e){const{width:o,height:r}=e;if(o===0||r===0)return null;const i=e.getContext("2d");try{return i.getImageData(0,0,o,r)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Mu(e){if(Ko(e))return await Au(e);if($u(e)){if(qu(e))throw new DOMException("The image data has been detached.","InvalidStateError");return e}return Wo(e)||Uo(e)?Ou(e):await Qo(e)}async function Ru(e){try{return await e.decode(),!0}catch{return!1}}async function Du(e){var o;try{return await((o=e.decode)==null?void 0:o.call(e)),!0}catch{return!1}}function Vu(e){return e.format===null}function qu(e){return e.data.buffer.byteLength===0}function Fu(e){return e.width===0&&e.height===0}function lo(e,o){return e instanceof DOMException?new DOMException(`${o}: ${e.message}`,e.name):e instanceof Error?new e.constructor(`${o}: ${e.message}`):new Error(`${o}: ${e}`)}const uo=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function Bu(e){return e.join("|")}function ju(e){const o=so(e);let r=0,i=uo.length-1;for(;r<=i;){const u=Math.floor((r+i)/2),c=uo[u],d=so(c);if(d===o)return c;d<o?r=u+1:i=u-1}return"None"}function so(e){return e.toLowerCase().replace(/_-\[\]/g,"")}function Iu(e,o){return e.Binarizer[o]}function Lu(e,o){return e.CharacterSet[o]}const Hu=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function Wu(e){return Hu[e.value]}function zu(e,o){return e.EanAddOnSymbol[o]}function Uu(e,o){return e.TextMode[o]}const Nt={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function Go(e,o){return{...o,formats:Bu(o.formats),binarizer:Iu(e,o.binarizer),eanAddOnSymbol:zu(e,o.eanAddOnSymbol),textMode:Uu(e,o.textMode),characterSet:Lu(e,o.characterSet)}}function Yo(e){return{...e,format:ju(e.format),eccLevel:e.eccLevel,contentType:Wu(e.contentType)}}const Nu={locateFile:(e,o)=>{const r=e.match(/_(.+?)\.wasm$/);return r?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.3/dist/${r[1]}/${e}`:o+e}};let co=new WeakMap;function vr(e,o){var r;const i=co.get(e);if(i!=null&&i.modulePromise&&(o===void 0||Object.is(o,i.moduleOverrides)))return i.modulePromise;const u=(r=o!=null?o:i==null?void 0:i.moduleOverrides)!=null?r:Nu,c=e({...u});return co.set(e,{moduleOverrides:u,modulePromise:c}),c}async function Ku(e,o,r=Nt){const i={...Nt,...r},u=await vr(e),{size:c}=o,d=new Uint8Array(await o.arrayBuffer()),g=u._malloc(c);u.HEAPU8.set(d,g);const f=u.readBarcodesFromImage(g,c,Go(u,i));u._free(g);const p=[];for(let h=0;h<f.size();++h)p.push(Yo(f.get(h)));return p}async function Qu(e,o,r=Nt){const i={...Nt,...r},u=await vr(e),{data:c,width:d,height:g,data:{byteLength:f}}=o,p=u._malloc(f);u.HEAPU8.set(c,p);const h=u.readBarcodesFromPixmap(p,d,g,Go(u,i));u._free(p);const b=[];for(let _=0;_<h.size();++_)b.push(Yo(h.get(_)));return b}({...Nt,formats:[...Nt.formats]});var mr=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(o={}){var r=o,i,u;r.ready=new Promise((t,n)=>{i=t,u=n});var c=Object.assign({},r),d="./this.program",g=typeof window=="object",f=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var p="";function h(t){return r.locateFile?r.locateFile(t,p):p+t}var b;(g||f)&&(f?p=self.location.href:typeof document<"u"&&document.currentScript&&(p=document.currentScript.src),e&&(p=e),p.indexOf("blob:")!==0?p=p.substr(0,p.replace(/[?#].*/,"").lastIndexOf("/")+1):p="",f&&(b=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)})),r.print||console.log.bind(console);var _=r.printErr||console.error.bind(console);Object.assign(r,c),c=null,r.arguments&&r.arguments,r.thisProgram&&(d=r.thisProgram),r.quit&&r.quit;var C;r.wasmBinary&&(C=r.wasmBinary),typeof WebAssembly!="object"&&A("no native wasm support detected");var x,H=!1,k,Q,q,$,D,L,J,te;function ie(){var t=x.buffer;r.HEAP8=k=new Int8Array(t),r.HEAP16=q=new Int16Array(t),r.HEAPU8=Q=new Uint8Array(t),r.HEAPU16=$=new Uint16Array(t),r.HEAP32=D=new Int32Array(t),r.HEAPU32=L=new Uint32Array(t),r.HEAPF32=J=new Float32Array(t),r.HEAPF64=te=new Float64Array(t)}var de=[],Pe=[],$e=[];function ye(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)Ve(r.preRun.shift());Fe(de)}function Oe(){Fe(Pe)}function je(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)qe(r.postRun.shift());Fe($e)}function Ve(t){de.unshift(t)}function ue(t){Pe.unshift(t)}function qe(t){$e.unshift(t)}var fe=0,be=null;function Ce(t){var n;fe++,(n=r.monitorRunDependencies)===null||n===void 0||n.call(r,fe)}function S(t){var n;if(fe--,(n=r.monitorRunDependencies)===null||n===void 0||n.call(r,fe),fe==0&&be){var a=be;be=null,a()}}function A(t){var n;(n=r.onAbort)===null||n===void 0||n.call(r,t),t="Aborted("+t+")",_(t),H=!0,t+=". Build with -sASSERTIONS for more info.";var a=new WebAssembly.RuntimeError(t);throw u(a),a}var z="data:application/octet-stream;base64,",ee=t=>t.startsWith(z),F;F="zxing_reader.wasm",ee(F)||(F=h(F));function I(t){if(t==F&&C)return new Uint8Array(C);if(b)return b(t);throw"both async and sync fetching of the wasm failed"}function W(t){return!C&&(g||f)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at '"+t+"'";return n.arrayBuffer()}).catch(()=>I(t)):Promise.resolve().then(()=>I(t))}function oe(t,n,a){return W(t).then(l=>WebAssembly.instantiate(l,n)).then(l=>l).then(a,l=>{_(`failed to asynchronously prepare wasm: ${l}`),A(l)})}function O(t,n,a,l){return!t&&typeof WebAssembly.instantiateStreaming=="function"&&!ee(n)&&typeof fetch=="function"?fetch(n,{credentials:"same-origin"}).then(v=>{var m=WebAssembly.instantiateStreaming(v,a);return m.then(l,function(y){return _(`wasm streaming compile failed: ${y}`),_("falling back to ArrayBuffer instantiation"),oe(n,a,l)})}):oe(n,a,l)}function Te(){var t={a:Ci};function n(l,v){return Se=l.exports,x=Se.ia,ie(),gr=Se.ma,ue(Se.ja),S(),Se}Ce();function a(l){n(l.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(t,n)}catch(l){_(`Module.instantiateWasm callback failed with error: ${l}`),u(l)}return O(C,F,t,a).catch(u),{}}var Fe=t=>{for(;t.length>0;)t.shift()(r)};r.noExitRuntime;var Ue=[],Me=0,qt=t=>{var n=new dt(t);return n.get_caught()||(n.set_caught(!0),Me--),n.set_rethrown(!1),Ue.push(n),Or(n.excPtr),n.get_exception_ptr()},Ae=0,et=()=>{se(0,0);var t=Ue.pop();Ar(t.excPtr),Ae=0};function dt(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(n){L[this.ptr+4>>2]=n},this.get_type=function(){return L[this.ptr+4>>2]},this.set_destructor=function(n){L[this.ptr+8>>2]=n},this.get_destructor=function(){return L[this.ptr+8>>2]},this.set_caught=function(n){n=n?1:0,k[this.ptr+12>>0]=n},this.get_caught=function(){return k[this.ptr+12>>0]!=0},this.set_rethrown=function(n){n=n?1:0,k[this.ptr+13>>0]=n},this.get_rethrown=function(){return k[this.ptr+13>>0]!=0},this.init=function(n,a){this.set_adjusted_ptr(0),this.set_type(n),this.set_destructor(a)},this.set_adjusted_ptr=function(n){L[this.ptr+16>>2]=n},this.get_adjusted_ptr=function(){return L[this.ptr+16>>2]},this.get_exception_ptr=function(){var n=Rr(this.get_type());if(n)return L[this.excPtr>>2];var a=this.get_adjusted_ptr();return a!==0?a:this.excPtr}}var Ct=t=>{throw Ae||(Ae=t),Ae},Tt=t=>{var n=Ae;if(!n)return en(0),0;var a=new dt(n);a.set_adjusted_ptr(n);var l=a.get_type();if(!l)return en(0),n;for(var v in t){var m=t[v];if(m===0||m===l)break;var y=a.ptr+16;if(Mr(m,l,y))return en(m),n}return en(l),n},_t=()=>Tt([]),He=t=>Tt([t]),Re=(t,n)=>Tt([t,n]),ft=()=>{var t=Ue.pop();t||A("no exception to throw");var n=t.excPtr;throw t.get_rethrown()||(Ue.push(t),t.set_rethrown(!0),t.set_caught(!1),Me++),Ae=n,Ae},Ft=(t,n,a)=>{var l=new dt(t);throw l.init(n,a),Ae=t,Me++,Ae},Vn=()=>Me,xt={},Et=t=>{for(;t.length;){var n=t.pop(),a=t.pop();a(n)}};function Kt(t){return this.fromWireType(D[t>>2])}var tt={},De={},Ne={},Pt,Bt=t=>{throw new Pt(t)},Ke=(t,n,a)=>{t.forEach(function(w){Ne[w]=n});function l(w){var T=a(w);T.length!==t.length&&Bt("Mismatched type converter count");for(var P=0;P<t.length;++P)We(t[P],T[P])}var v=new Array(n.length),m=[],y=0;n.forEach((w,T)=>{De.hasOwnProperty(w)?v[T]=De[w]:(m.push(w),tt.hasOwnProperty(w)||(tt[w]=[]),tt[w].push(()=>{v[T]=De[w],++y,y===m.length&&l(v)}))}),m.length===0&&l(v)},Qt=t=>{var n=xt[t];delete xt[t];var a=n.rawConstructor,l=n.rawDestructor,v=n.fields,m=v.map(y=>y.getterReturnType).concat(v.map(y=>y.setterArgumentType));Ke([t],m,y=>{var w={};return v.forEach((T,P)=>{var V=T.fieldName,U=y[P],K=T.getter,Y=T.getterContext,ce=y[P+v.length],pe=T.setter,ae=T.setterContext;w[V]={read:ke=>U.fromWireType(K(Y,ke)),write:(ke,E)=>{var j=[];pe(ae,ke,ce.toWireType(j,E)),Et(j)}}}),[{name:n.name,fromWireType:T=>{var P={};for(var V in w)P[V]=w[V].read(T);return l(T),P},toWireType:(T,P)=>{for(var V in w)if(!(V in P))throw new TypeError(`Missing field: "${V}"`);var U=a();for(V in w)w[V].write(U,P[V]);return T!==null&&T.push(l,U),U},argPackAdvance:Ie,readValueFromPointer:Kt,destructorFunction:l}]})},cn=(t,n,a,l,v)=>{},dn=()=>{for(var t=new Array(256),n=0;n<256;++n)t[n]=String.fromCharCode(n);Gt=t},Gt,we=t=>{for(var n="",a=t;Q[a];)n+=Gt[Q[a++]];return n},nt,Z=t=>{throw new nt(t)};function qn(t,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var l=n.name;if(t||Z(`type "${l}" must have a positive integer typeid pointer`),De.hasOwnProperty(t)){if(a.ignoreDuplicateRegistrations)return;Z(`Cannot register type '${l}' twice`)}if(De[t]=n,delete Ne[t],tt.hasOwnProperty(t)){var v=tt[t];delete tt[t],v.forEach(m=>m())}}function We(t,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");return qn(t,n,a)}var Ie=8,Fn=(t,n,a,l)=>{n=we(n),We(t,{name:n,fromWireType:function(v){return!!v},toWireType:function(v,m){return m?a:l},argPackAdvance:Ie,readValueFromPointer:function(v){return this.fromWireType(Q[v])},destructorFunction:null})},fn=t=>({count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}),vt=t=>{function n(a){return a.$$.ptrType.registeredClass.name}Z(n(t)+" instance already deleted")},rt=!1,ot=t=>{},Bn=t=>{t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)},vn=t=>{t.count.value-=1;var n=t.count.value===0;n&&Bn(t)},mn=(t,n,a)=>{if(n===a)return t;if(a.baseClass===void 0)return null;var l=mn(t,n,a.baseClass);return l===null?null:a.downcast(l)},hn={},jn=()=>Object.keys(Le).length,In=()=>{var t=[];for(var n in Le)Le.hasOwnProperty(n)&&t.push(Le[n]);return t},$t=[],Yt=()=>{for(;$t.length;){var t=$t.pop();t.$$.deleteScheduled=!1,t.delete()}},kt,mt=t=>{kt=t,$t.length&&kt&&kt(Yt)},ht=()=>{r.getInheritedInstanceCount=jn,r.getLiveInheritedInstances=In,r.flushPendingDeletes=Yt,r.setDelayFunction=mt},Le={},pt=(t,n)=>{for(n===void 0&&Z("ptr should not be undefined");t.baseClass;)n=t.upcast(n),t=t.baseClass;return n},Xt=(t,n)=>(n=pt(t,n),Le[n]),jt=(t,n)=>{(!n.ptrType||!n.ptr)&&Bt("makeClassHandle requires ptr and ptrType");var a=!!n.smartPtrType,l=!!n.smartPtr;return a!==l&&Bt("Both smartPtrType and smartPtr must be specified"),n.count={value:1},gt(Object.create(t,{$$:{value:n,writable:!0}}))};function pn(t){var n=this.getPointee(t);if(!n)return this.destructor(t),null;var a=Xt(this.registeredClass,n);if(a!==void 0){if(a.$$.count.value===0)return a.$$.ptr=n,a.$$.smartPtr=t,a.clone();var l=a.clone();return this.destructor(t),l}function v(){return this.isSmartPointer?jt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:n,smartPtrType:this,smartPtr:t}):jt(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var m=this.registeredClass.getActualType(n),y=hn[m];if(!y)return v.call(this);var w;this.isConst?w=y.constPointerType:w=y.pointerType;var T=mn(n,this.registeredClass,w.registeredClass);return T===null?v.call(this):this.isSmartPointer?jt(w.registeredClass.instancePrototype,{ptrType:w,ptr:T,smartPtrType:this,smartPtr:t}):jt(w.registeredClass.instancePrototype,{ptrType:w,ptr:T})}var gt=t=>typeof FinalizationRegistry>"u"?(gt=n=>n,t):(rt=new FinalizationRegistry(n=>{vn(n.$$)}),gt=n=>{var a=n.$$,l=!!a.smartPtr;if(l){var v={$$:a};rt.register(n,v,n)}return n},ot=n=>rt.unregister(n),gt(t)),gn=()=>{Object.assign(At.prototype,{isAliasOf(t){if(!(this instanceof At)||!(t instanceof At))return!1;var n=this.$$.ptrType.registeredClass,a=this.$$.ptr;t.$$=t.$$;for(var l=t.$$.ptrType.registeredClass,v=t.$$.ptr;n.baseClass;)a=n.upcast(a),n=n.baseClass;for(;l.baseClass;)v=l.upcast(v),l=l.baseClass;return n===l&&a===v},clone(){if(this.$$.ptr||vt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=gt(Object.create(Object.getPrototypeOf(this),{$$:{value:fn(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||vt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Z("Object already scheduled for deletion"),ot(this),vn(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||vt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Z("Object already scheduled for deletion"),$t.push(this),$t.length===1&&kt&&kt(Yt),this.$$.deleteScheduled=!0,this}})};function At(){}var s=(t,n)=>Object.defineProperty(n,"name",{value:t}),R=(t,n,a)=>{if(t[n].overloadTable===void 0){var l=t[n];t[n]=function(){return t[n].overloadTable.hasOwnProperty(arguments.length)||Z(`Function '${a}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[n].overloadTable})!`),t[n].overloadTable[arguments.length].apply(this,arguments)},t[n].overloadTable=[],t[n].overloadTable[l.argCount]=l}},M=(t,n,a)=>{r.hasOwnProperty(t)?((a===void 0||r[t].overloadTable!==void 0&&r[t].overloadTable[a]!==void 0)&&Z(`Cannot register public name '${t}' twice`),R(r,t,t),r.hasOwnProperty(a)&&Z(`Cannot register multiple overloads of a function with the same number of arguments (${a})!`),r[t].overloadTable[a]=n):(r[t]=n,a!==void 0&&(r[t].numArguments=a))},G=48,re=57,ne=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var n=t.charCodeAt(0);return n>=G&&n<=re?`_${t}`:t};function _e(t,n,a,l,v,m,y,w){this.name=t,this.constructor=n,this.instancePrototype=a,this.rawDestructor=l,this.baseClass=v,this.getActualType=m,this.upcast=y,this.downcast=w,this.pureVirtualFunctions=[]}var le=(t,n,a)=>{for(;n!==a;)n.upcast||Z(`Expected null or instance of ${a.name}, got an instance of ${n.name}`),t=n.upcast(t),n=n.baseClass;return t};function Jt(t,n){if(n===null)return this.isReference&&Z(`null is not a valid ${this.name}`),0;n.$$||Z(`Cannot pass "${Un(n)}" as a ${this.name}`),n.$$.ptr||Z(`Cannot pass deleted object as a pointer of type ${this.name}`);var a=n.$$.ptrType.registeredClass,l=le(n.$$.ptr,a,this.registeredClass);return l}function da(t,n){var a;if(n===null)return this.isReference&&Z(`null is not a valid ${this.name}`),this.isSmartPointer?(a=this.rawConstructor(),t!==null&&t.push(this.rawDestructor,a),a):0;(!n||!n.$$)&&Z(`Cannot pass "${Un(n)}" as a ${this.name}`),n.$$.ptr||Z(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&n.$$.ptrType.isConst&&Z(`Cannot convert argument of type ${n.$$.smartPtrType?n.$$.smartPtrType.name:n.$$.ptrType.name} to parameter type ${this.name}`);var l=n.$$.ptrType.registeredClass;if(a=le(n.$$.ptr,l,this.registeredClass),this.isSmartPointer)switch(n.$$.smartPtr===void 0&&Z("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:n.$$.smartPtrType===this?a=n.$$.smartPtr:Z(`Cannot convert argument of type ${n.$$.smartPtrType?n.$$.smartPtrType.name:n.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:a=n.$$.smartPtr;break;case 2:if(n.$$.smartPtrType===this)a=n.$$.smartPtr;else{var v=n.clone();a=this.rawShare(a,at.toHandle(()=>v.delete())),t!==null&&t.push(this.rawDestructor,a)}break;default:Z("Unsupporting sharing policy")}return a}function fa(t,n){if(n===null)return this.isReference&&Z(`null is not a valid ${this.name}`),0;n.$$||Z(`Cannot pass "${Un(n)}" as a ${this.name}`),n.$$.ptr||Z(`Cannot pass deleted object as a pointer of type ${this.name}`),n.$$.ptrType.isConst&&Z(`Cannot convert argument of type ${n.$$.ptrType.name} to parameter type ${this.name}`);var a=n.$$.ptrType.registeredClass,l=le(n.$$.ptr,a,this.registeredClass);return l}function hr(t){return this.fromWireType(L[t>>2])}var va=()=>{Object.assign(yn.prototype,{getPointee(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},destructor(t){var n;(n=this.rawDestructor)===null||n===void 0||n.call(this,t)},argPackAdvance:Ie,readValueFromPointer:hr,deleteObject(t){t!==null&&t.delete()},fromWireType:pn})};function yn(t,n,a,l,v,m,y,w,T,P,V){this.name=t,this.registeredClass=n,this.isReference=a,this.isConst=l,this.isSmartPointer=v,this.pointeeType=m,this.sharingPolicy=y,this.rawGetPointee=w,this.rawConstructor=T,this.rawShare=P,this.rawDestructor=V,!v&&n.baseClass===void 0?l?(this.toWireType=Jt,this.destructorFunction=null):(this.toWireType=fa,this.destructorFunction=null):this.toWireType=da}var pr=(t,n,a)=>{r.hasOwnProperty(t)||Bt("Replacing nonexistant public symbol"),r[t].overloadTable!==void 0&&a!==void 0?r[t].overloadTable[a]=n:(r[t]=n,r[t].argCount=a)},ma=(t,n,a)=>{var l=r["dynCall_"+t];return a&&a.length?l.apply(null,[n].concat(a)):l.call(null,n)},bn=[],gr,ve=t=>{var n=bn[t];return n||(t>=bn.length&&(bn.length=t+1),bn[t]=n=gr.get(t)),n},ha=(t,n,a)=>{if(t.includes("j"))return ma(t,n,a);var l=ve(n).apply(null,a);return l},pa=(t,n)=>{var a=[];return function(){return a.length=0,Object.assign(a,arguments),ha(t,n,a)}},Qe=(t,n)=>{t=we(t);function a(){return t.includes("j")?pa(t,n):ve(n)}var l=a();return typeof l!="function"&&Z(`unknown function pointer with signature ${t}: ${n}`),l},ga=(t,n)=>{var a=s(n,function(l){this.name=n,this.message=l;var v=new Error(l).stack;v!==void 0&&(this.stack=this.toString()+`
`+v.replace(/^Error(:[^\n]*)?\n/,""))});return a.prototype=Object.create(t.prototype),a.prototype.constructor=a,a.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},a},yr,br=t=>{var n=kr(t),a=we(n);return it(n),a},wn=(t,n)=>{var a=[],l={};function v(m){if(!l[m]&&!De[m]){if(Ne[m]){Ne[m].forEach(v);return}a.push(m),l[m]=!0}}throw n.forEach(v),new yr(`${t}: `+a.map(br).join([", "]))},ya=(t,n,a,l,v,m,y,w,T,P,V,U,K)=>{V=we(V),m=Qe(v,m),w&&(w=Qe(y,w)),P&&(P=Qe(T,P)),K=Qe(U,K);var Y=ne(V);M(Y,function(){wn(`Cannot construct ${V} due to unbound types`,[l])}),Ke([t,n,a],l?[l]:[],function(ce){ce=ce[0];var pe,ae;l?(pe=ce.registeredClass,ae=pe.instancePrototype):ae=At.prototype;var ke=s(V,function(){if(Object.getPrototypeOf(this)!==E)throw new nt("Use 'new' to construct "+V);if(j.constructor_body===void 0)throw new nt(V+" has no accessible constructor");var Fr=j.constructor_body[arguments.length];if(Fr===void 0)throw new nt(`Tried to invoke ctor of ${V} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(j.constructor_body).toString()}) parameters instead!`);return Fr.apply(this,arguments)}),E=Object.create(ae,{constructor:{value:ke}});ke.prototype=E;var j=new _e(V,ke,E,K,pe,m,w,P);if(j.baseClass){var ge,xe;(xe=(ge=j.baseClass).__derivedClasses)!==null&&xe!==void 0||(ge.__derivedClasses=[]),j.baseClass.__derivedClasses.push(j)}var It=new yn(V,j,!0,!1,!1),Tn=new yn(V+"*",j,!1,!1,!1),qr=new yn(V+" const*",j,!1,!0,!1);return hn[t]={pointerType:Tn,constPointerType:qr},pr(Y,ke),[It,Tn,qr]})},Ln=(t,n)=>{for(var a=[],l=0;l<t;l++)a.push(L[n+l*4>>2]);return a};function ba(t){for(var n=1;n<t.length;++n)if(t[n]!==null&&t[n].destructorFunction===void 0)return!0;return!1}function Hn(t,n,a,l,v,m){var y=n.length;y<2&&Z("argTypes array size mismatch! Must at least get return value and 'this' types!");var w=n[1]!==null&&a!==null,T=ba(n),P=n[0].name!=="void",V=y-2,U=new Array(V),K=[],Y=[],ce=function(){arguments.length!==V&&Z(`function ${t} called with ${arguments.length} arguments, expected ${V}`),Y.length=0;var pe;K.length=w?2:1,K[0]=v,w&&(pe=n[1].toWireType(Y,this),K[1]=pe);for(var ae=0;ae<V;++ae)U[ae]=n[ae+2].toWireType(Y,arguments[ae]),K.push(U[ae]);var ke=l.apply(null,K);function E(j){if(T)Et(Y);else for(var ge=w?1:2;ge<n.length;ge++){var xe=ge===1?pe:U[ge-2];n[ge].destructorFunction!==null&&n[ge].destructorFunction(xe)}if(P)return n[0].fromWireType(j)}return E(ke)};return s(t,ce)}var wa=(t,n,a,l,v,m)=>{var y=Ln(n,a);v=Qe(l,v),Ke([],[t],function(w){w=w[0];var T=`constructor ${w.name}`;if(w.registeredClass.constructor_body===void 0&&(w.registeredClass.constructor_body=[]),w.registeredClass.constructor_body[n-1]!==void 0)throw new nt(`Cannot register multiple constructors with identical number of parameters (${n-1}) for class '${w.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return w.registeredClass.constructor_body[n-1]=()=>{wn(`Cannot construct ${w.name} due to unbound types`,y)},Ke([],y,P=>(P.splice(1,0,null),w.registeredClass.constructor_body[n-1]=Hn(T,P,null,v,m),[])),[]})},wr=t=>{t=t.trim();const n=t.indexOf("(");return n!==-1?t.substr(0,n):t},Sa=(t,n,a,l,v,m,y,w,T)=>{var P=Ln(a,l);n=we(n),n=wr(n),m=Qe(v,m),Ke([],[t],function(V){V=V[0];var U=`${V.name}.${n}`;n.startsWith("@@")&&(n=Symbol[n.substring(2)]),w&&V.registeredClass.pureVirtualFunctions.push(n);function K(){wn(`Cannot call ${U} due to unbound types`,P)}var Y=V.registeredClass.instancePrototype,ce=Y[n];return ce===void 0||ce.overloadTable===void 0&&ce.className!==V.name&&ce.argCount===a-2?(K.argCount=a-2,K.className=V.name,Y[n]=K):(R(Y,n,U),Y[n].overloadTable[a-2]=K),Ke([],P,function(pe){var ae=Hn(U,pe,V,m,y);return Y[n].overloadTable===void 0?(ae.argCount=a-2,Y[n]=ae):Y[n].overloadTable[a-2]=ae,[]}),[]})};function Ca(){Object.assign(Sr.prototype,{get(t){return this.allocated[t]},has(t){return this.allocated[t]!==void 0},allocate(t){var n=this.freelist.pop()||this.allocated.length;return this.allocated[n]=t,n},free(t){this.allocated[t]=void 0,this.freelist.push(t)}})}function Sr(){this.allocated=[void 0],this.freelist=[]}var ze=new Sr,Wn=t=>{t>=ze.reserved&&--ze.get(t).refcount===0&&ze.free(t)},Ta=()=>{for(var t=0,n=ze.reserved;n<ze.allocated.length;++n)ze.allocated[n]!==void 0&&++t;return t},_a=()=>{ze.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),ze.reserved=ze.allocated.length,r.count_emval_handles=Ta},at={toValue:t=>(t||Z("Cannot use deleted val. handle = "+t),ze.get(t).value),toHandle:t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ze.allocate({refcount:1,value:t})}}},xa=(t,n)=>{n=we(n),We(t,{name:n,fromWireType:a=>{var l=at.toValue(a);return Wn(a),l},toWireType:(a,l)=>at.toHandle(l),argPackAdvance:Ie,readValueFromPointer:Kt,destructorFunction:null})},Ea=(t,n,a)=>{switch(n){case 1:return a?function(l){return this.fromWireType(k[l>>0])}:function(l){return this.fromWireType(Q[l>>0])};case 2:return a?function(l){return this.fromWireType(q[l>>1])}:function(l){return this.fromWireType($[l>>1])};case 4:return a?function(l){return this.fromWireType(D[l>>2])}:function(l){return this.fromWireType(L[l>>2])};default:throw new TypeError(`invalid integer width (${n}): ${t}`)}},Pa=(t,n,a,l)=>{n=we(n);function v(){}v.values={},We(t,{name:n,constructor:v,fromWireType:function(m){return this.constructor.values[m]},toWireType:(m,y)=>y.value,argPackAdvance:Ie,readValueFromPointer:Ea(n,a,l),destructorFunction:null}),M(n,v)},zn=(t,n)=>{var a=De[t];return a===void 0&&Z(n+" has unknown type "+br(t)),a},$a=(t,n,a)=>{var l=zn(t,"enum");n=we(n);var v=l.constructor,m=Object.create(l.constructor.prototype,{value:{value:a},constructor:{value:s(`${l.name}_${n}`,function(){})}});v.values[a]=m,v[n]=m},Un=t=>{if(t===null)return"null";var n=typeof t;return n==="object"||n==="array"||n==="function"?t.toString():""+t},ka=(t,n)=>{switch(n){case 4:return function(a){return this.fromWireType(J[a>>2])};case 8:return function(a){return this.fromWireType(te[a>>3])};default:throw new TypeError(`invalid float width (${n}): ${t}`)}},Aa=(t,n,a)=>{n=we(n),We(t,{name:n,fromWireType:l=>l,toWireType:(l,v)=>v,argPackAdvance:Ie,readValueFromPointer:ka(n,a),destructorFunction:null})},Oa=(t,n,a,l,v,m,y)=>{var w=Ln(n,a);t=we(t),t=wr(t),v=Qe(l,v),M(t,function(){wn(`Cannot call ${t} due to unbound types`,w)},n-1),Ke([],w,function(T){var P=[T[0],null].concat(T.slice(1));return pr(t,Hn(t,P,null,v,m),n-1),[]})},Ma=(t,n,a)=>{switch(n){case 1:return a?l=>k[l>>0]:l=>Q[l>>0];case 2:return a?l=>q[l>>1]:l=>$[l>>1];case 4:return a?l=>D[l>>2]:l=>L[l>>2];default:throw new TypeError(`invalid integer width (${n}): ${t}`)}},Ra=(t,n,a,l,v)=>{n=we(n);var m=V=>V;if(l===0){var y=32-8*a;m=V=>V<<y>>>y}var w=n.includes("unsigned"),T=(V,U)=>{},P;w?P=function(V,U){return T(U,this.name),U>>>0}:P=function(V,U){return T(U,this.name),U},We(t,{name:n,fromWireType:m,toWireType:P,argPackAdvance:Ie,readValueFromPointer:Ma(n,a,l!==0),destructorFunction:null})},Da=(t,n,a)=>{var l=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],v=l[n];function m(y){var w=L[y>>2],T=L[y+4>>2];return new v(k.buffer,T,w)}a=we(a),We(t,{name:a,fromWireType:m,argPackAdvance:Ie,readValueFromPointer:m},{ignoreDuplicateRegistrations:!0})},Cr=(t,n,a,l)=>{if(!(l>0))return 0;for(var v=a,m=a+l-1,y=0;y<t.length;++y){var w=t.charCodeAt(y);if(w>=55296&&w<=57343){var T=t.charCodeAt(++y);w=65536+((w&1023)<<10)|T&1023}if(w<=127){if(a>=m)break;n[a++]=w}else if(w<=2047){if(a+1>=m)break;n[a++]=192|w>>6,n[a++]=128|w&63}else if(w<=65535){if(a+2>=m)break;n[a++]=224|w>>12,n[a++]=128|w>>6&63,n[a++]=128|w&63}else{if(a+3>=m)break;n[a++]=240|w>>18,n[a++]=128|w>>12&63,n[a++]=128|w>>6&63,n[a++]=128|w&63}}return n[a]=0,a-v},Va=(t,n,a)=>Cr(t,Q,n,a),Tr=t=>{for(var n=0,a=0;a<t.length;++a){var l=t.charCodeAt(a);l<=127?n++:l<=2047?n+=2:l>=55296&&l<=57343?(n+=4,++a):n+=3}return n},_r=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,qa=(t,n,a)=>{for(var l=n+a,v=n;t[v]&&!(v>=l);)++v;if(v-n>16&&t.buffer&&_r)return _r.decode(t.subarray(n,v));for(var m="";n<v;){var y=t[n++];if(!(y&128)){m+=String.fromCharCode(y);continue}var w=t[n++]&63;if((y&224)==192){m+=String.fromCharCode((y&31)<<6|w);continue}var T=t[n++]&63;if((y&240)==224?y=(y&15)<<12|w<<6|T:y=(y&7)<<18|w<<12|T<<6|t[n++]&63,y<65536)m+=String.fromCharCode(y);else{var P=y-65536;m+=String.fromCharCode(55296|P>>10,56320|P&1023)}}return m},Nn=(t,n)=>t?qa(Q,t,n):"",Fa=(t,n)=>{n=we(n);var a=n==="std::string";We(t,{name:n,fromWireType(l){var v=L[l>>2],m=l+4,y;if(a)for(var w=m,T=0;T<=v;++T){var P=m+T;if(T==v||Q[P]==0){var V=P-w,U=Nn(w,V);y===void 0?y=U:(y+="\0",y+=U),w=P+1}}else{for(var K=new Array(v),T=0;T<v;++T)K[T]=String.fromCharCode(Q[m+T]);y=K.join("")}return it(l),y},toWireType(l,v){v instanceof ArrayBuffer&&(v=new Uint8Array(v));var m,y=typeof v=="string";y||v instanceof Uint8Array||v instanceof Uint8ClampedArray||v instanceof Int8Array||Z("Cannot pass non-string to std::string"),a&&y?m=Tr(v):m=v.length;var w=Gn(4+m+1),T=w+4;if(L[w>>2]=m,a&&y)Va(v,T,m+1);else if(y)for(var P=0;P<m;++P){var V=v.charCodeAt(P);V>255&&(it(T),Z("String has UTF-16 code units that do not fit in 8 bits")),Q[T+P]=V}else for(var P=0;P<m;++P)Q[T+P]=v[P];return l!==null&&l.push(it,w),w},argPackAdvance:Ie,readValueFromPointer:hr,destructorFunction(l){it(l)}})},xr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ba=(t,n)=>{for(var a=t,l=a>>1,v=l+n/2;!(l>=v)&&$[l];)++l;if(a=l<<1,a-t>32&&xr)return xr.decode(Q.subarray(t,a));for(var m="",y=0;!(y>=n/2);++y){var w=q[t+y*2>>1];if(w==0)break;m+=String.fromCharCode(w)}return m},ja=(t,n,a)=>{var l;if((l=a)!==null&&l!==void 0||(a=2147483647),a<2)return 0;a-=2;for(var v=n,m=a<t.length*2?a/2:t.length,y=0;y<m;++y){var w=t.charCodeAt(y);q[n>>1]=w,n+=2}return q[n>>1]=0,n-v},Ia=t=>t.length*2,La=(t,n)=>{for(var a=0,l="";!(a>=n/4);){var v=D[t+a*4>>2];if(v==0)break;if(++a,v>=65536){var m=v-65536;l+=String.fromCharCode(55296|m>>10,56320|m&1023)}else l+=String.fromCharCode(v)}return l},Ha=(t,n,a)=>{var l;if((l=a)!==null&&l!==void 0||(a=2147483647),a<4)return 0;for(var v=n,m=v+a-4,y=0;y<t.length;++y){var w=t.charCodeAt(y);if(w>=55296&&w<=57343){var T=t.charCodeAt(++y);w=65536+((w&1023)<<10)|T&1023}if(D[n>>2]=w,n+=4,n+4>m)break}return D[n>>2]=0,n-v},Wa=t=>{for(var n=0,a=0;a<t.length;++a){var l=t.charCodeAt(a);l>=55296&&l<=57343&&++a,n+=4}return n},za=(t,n,a)=>{a=we(a);var l,v,m,y,w;n===2?(l=Ba,v=ja,y=Ia,m=()=>$,w=1):n===4&&(l=La,v=Ha,y=Wa,m=()=>L,w=2),We(t,{name:a,fromWireType:T=>{for(var P=L[T>>2],V=m(),U,K=T+4,Y=0;Y<=P;++Y){var ce=T+4+Y*n;if(Y==P||V[ce>>w]==0){var pe=ce-K,ae=l(K,pe);U===void 0?U=ae:(U+="\0",U+=ae),K=ce+n}}return it(T),U},toWireType:(T,P)=>{typeof P!="string"&&Z(`Cannot pass non-string to C++ string type ${a}`);var V=y(P),U=Gn(4+V+n);return L[U>>2]=V>>w,v(P,U+4,V+n),T!==null&&T.push(it,U),U},argPackAdvance:Ie,readValueFromPointer:Kt,destructorFunction(T){it(T)}})},Ua=(t,n,a,l,v,m)=>{xt[t]={name:we(n),rawConstructor:Qe(a,l),rawDestructor:Qe(v,m),fields:[]}},Na=(t,n,a,l,v,m,y,w,T,P)=>{xt[t].fields.push({fieldName:we(n),getterReturnType:a,getter:Qe(l,v),getterContext:m,setterArgumentType:y,setter:Qe(w,T),setterContext:P})},Ka=(t,n)=>{n=we(n),We(t,{isVoid:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:(a,l)=>{}})},Kn=[],Qa=(t,n,a,l)=>(t=Kn[t],n=at.toValue(n),t(null,n,a,l)),Ga={},Ya=t=>{var n=Ga[t];return n===void 0?we(t):n},Er=()=>{if(typeof globalThis=="object")return globalThis;function t(n){n.$$$embind_global$$$=n;var a=typeof $$$embind_global$$$=="object"&&n.$$$embind_global$$$==n;return a||delete n.$$$embind_global$$$,a}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&t(global)?$$$embind_global$$$=global:typeof self=="object"&&t(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Xa=t=>t===0?at.toHandle(Er()):(t=Ya(t),at.toHandle(Er()[t])),Ja=t=>{var n=Kn.length;return Kn.push(t),n},Za=(t,n)=>{for(var a=new Array(t),l=0;l<t;++l)a[l]=zn(L[n+l*4>>2],"parameter "+l);return a},ei=Reflect.construct,ti=(t,n,a)=>{var l=[],v=t.toWireType(l,a);return l.length&&(L[n>>2]=at.toHandle(l)),v},ni=(t,n,a)=>{var l=Za(t,n),v=l.shift();t--;var m=new Array(t),y=(T,P,V,U)=>{for(var K=0,Y=0;Y<t;++Y)m[Y]=l[Y].readValueFromPointer(U+K),K+=l[Y].argPackAdvance;for(var ce=a===1?ei(P,m):P.apply(T,m),Y=0;Y<t;++Y){var pe,ae;(pe=(ae=l[Y]).deleteObject)===null||pe===void 0||pe.call(ae,m[Y])}return ti(v,V,ce)},w=`methodCaller<(${l.map(T=>T.name).join(", ")}) => ${v.name}>`;return Ja(s(w,y))},ri=t=>{t>4&&(ze.get(t).refcount+=1)},oi=t=>{var n=at.toValue(t);Et(n),Wn(t)},ai=(t,n)=>{t=zn(t,"_emval_take_value");var a=t.readValueFromPointer(n);return at.toHandle(a)},ii=()=>{A("")},li=(t,n,a)=>Q.copyWithin(t,n,n+a),ui=()=>2147483648,si=t=>{var n=x.buffer,a=(t-n.byteLength+65535)/65536;try{return x.grow(a),ie(),1}catch{}},ci=t=>{var n=Q.length;t>>>=0;var a=ui();if(t>a)return!1;for(var l=(T,P)=>T+(P-T%P)%P,v=1;v<=4;v*=2){var m=n*(1+.2/v);m=Math.min(m,t+100663296);var y=Math.min(a,l(Math.max(t,m),65536)),w=si(y);if(w)return!0}return!1},Qn={},di=()=>d||"./this.program",Zt=()=>{if(!Zt.strings){var t=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:t,_:di()};for(var a in Qn)Qn[a]===void 0?delete n[a]:n[a]=Qn[a];var l=[];for(var a in n)l.push(`${a}=${n[a]}`);Zt.strings=l}return Zt.strings},fi=(t,n)=>{for(var a=0;a<t.length;++a)k[n++>>0]=t.charCodeAt(a);k[n>>0]=0},vi=(t,n)=>{var a=0;return Zt().forEach((l,v)=>{var m=n+a;L[t+v*4>>2]=m,fi(l,m),a+=l.length+1}),0},mi=(t,n)=>{var a=Zt();L[t>>2]=a.length;var l=0;return a.forEach(v=>l+=v.length+1),L[n>>2]=l,0},hi=t=>t,Sn=t=>t%4===0&&(t%100!==0||t%400===0),pi=(t,n)=>{for(var a=0,l=0;l<=n;a+=t[l++]);return a},Pr=[31,29,31,30,31,30,31,31,30,31,30,31],$r=[31,28,31,30,31,30,31,31,30,31,30,31],gi=(t,n)=>{for(var a=new Date(t.getTime());n>0;){var l=Sn(a.getFullYear()),v=a.getMonth(),m=(l?Pr:$r)[v];if(n>m-a.getDate())n-=m-a.getDate()+1,a.setDate(1),v<11?a.setMonth(v+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else return a.setDate(a.getDate()+n),a}return a};function yi(t,n,a){var l=a>0?a:Tr(t)+1,v=new Array(l),m=Cr(t,v,0,v.length);return n&&(v.length=m),v}var bi=(t,n)=>{k.set(t,n)},wi=(t,n,a,l)=>{var v=L[l+40>>2],m={tm_sec:D[l>>2],tm_min:D[l+4>>2],tm_hour:D[l+8>>2],tm_mday:D[l+12>>2],tm_mon:D[l+16>>2],tm_year:D[l+20>>2],tm_wday:D[l+24>>2],tm_yday:D[l+28>>2],tm_isdst:D[l+32>>2],tm_gmtoff:D[l+36>>2],tm_zone:v?Nn(v):""},y=Nn(a),w={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var T in w)y=y.replace(new RegExp(T,"g"),w[T]);var P=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],V=["January","February","March","April","May","June","July","August","September","October","November","December"];function U(E,j,ge){for(var xe=typeof E=="number"?E.toString():E||"";xe.length<j;)xe=ge[0]+xe;return xe}function K(E,j){return U(E,j,"0")}function Y(E,j){function ge(It){return It<0?-1:It>0?1:0}var xe;return(xe=ge(E.getFullYear()-j.getFullYear()))===0&&(xe=ge(E.getMonth()-j.getMonth()))===0&&(xe=ge(E.getDate()-j.getDate())),xe}function ce(E){switch(E.getDay()){case 0:return new Date(E.getFullYear()-1,11,29);case 1:return E;case 2:return new Date(E.getFullYear(),0,3);case 3:return new Date(E.getFullYear(),0,2);case 4:return new Date(E.getFullYear(),0,1);case 5:return new Date(E.getFullYear()-1,11,31);case 6:return new Date(E.getFullYear()-1,11,30)}}function pe(E){var j=gi(new Date(E.tm_year+1900,0,1),E.tm_yday),ge=new Date(j.getFullYear(),0,4),xe=new Date(j.getFullYear()+1,0,4),It=ce(ge),Tn=ce(xe);return Y(It,j)<=0?Y(Tn,j)<=0?j.getFullYear()+1:j.getFullYear():j.getFullYear()-1}var ae={"%a":E=>P[E.tm_wday].substring(0,3),"%A":E=>P[E.tm_wday],"%b":E=>V[E.tm_mon].substring(0,3),"%B":E=>V[E.tm_mon],"%C":E=>{var j=E.tm_year+1900;return K(j/100|0,2)},"%d":E=>K(E.tm_mday,2),"%e":E=>U(E.tm_mday,2," "),"%g":E=>pe(E).toString().substring(2),"%G":E=>pe(E),"%H":E=>K(E.tm_hour,2),"%I":E=>{var j=E.tm_hour;return j==0?j=12:j>12&&(j-=12),K(j,2)},"%j":E=>K(E.tm_mday+pi(Sn(E.tm_year+1900)?Pr:$r,E.tm_mon-1),3),"%m":E=>K(E.tm_mon+1,2),"%M":E=>K(E.tm_min,2),"%n":()=>`
`,"%p":E=>E.tm_hour>=0&&E.tm_hour<12?"AM":"PM","%S":E=>K(E.tm_sec,2),"%t":()=>"	","%u":E=>E.tm_wday||7,"%U":E=>{var j=E.tm_yday+7-E.tm_wday;return K(Math.floor(j/7),2)},"%V":E=>{var j=Math.floor((E.tm_yday+7-(E.tm_wday+6)%7)/7);if((E.tm_wday+371-E.tm_yday-2)%7<=2&&j++,j){if(j==53){var ge=(E.tm_wday+371-E.tm_yday)%7;ge!=4&&(ge!=3||!Sn(E.tm_year))&&(j=1)}}else{j=52;var xe=(E.tm_wday+7-E.tm_yday-1)%7;(xe==4||xe==5&&Sn(E.tm_year%400-1))&&j++}return K(j,2)},"%w":E=>E.tm_wday,"%W":E=>{var j=E.tm_yday+7-(E.tm_wday+6)%7;return K(Math.floor(j/7),2)},"%y":E=>(E.tm_year+1900).toString().substring(2),"%Y":E=>E.tm_year+1900,"%z":E=>{var j=E.tm_gmtoff,ge=j>=0;return j=Math.abs(j)/60,j=j/60*100+j%60,(ge?"+":"-")+("0000"+j).slice(-4)},"%Z":E=>E.tm_zone,"%%":()=>"%"};y=y.replace(/%%/g,"\0\0");for(var T in ae)y.includes(T)&&(y=y.replace(new RegExp(T,"g"),ae[T](m)));y=y.replace(/\0\0/g,"%");var ke=yi(y,!1);return ke.length>n?0:(bi(ke,t),ke.length-1)},Si=(t,n,a,l,v)=>wi(t,n,a,l);Pt=r.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},dn(),nt=r.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},gn(),ht(),va(),yr=r.UnboundTypeError=ga(Error,"UnboundTypeError"),Ca(),_a();var Ci={s:qt,u:et,b:_t,g:He,q:Re,J:ft,f:Ft,V:Vn,d:Ct,da:Qt,Q:cn,_:Fn,ca:ya,ba:wa,w:Sa,Y:xa,x:Pa,h:$a,L:Aa,M:Oa,t:Ra,o:Da,K:Fa,C:za,A:Ua,ea:Na,$:Ka,R:Qa,ha:Wn,fa:Xa,Z:ni,N:ri,O:oi,aa:ai,B:ii,X:li,W:ci,T:vi,U:mi,E:Bi,D:Pi,F:Fi,n:ji,a:Ti,e:ki,m:Ei,k:Oi,H:Vi,v:Ri,G:qi,z:Li,P:Wi,l:Ai,j:$i,c:xi,p:_i,I:Di,r:Ii,i:Mi,y:Hi,ga:hi,S:Si},Se=Te(),it=r._free=t=>(it=r._free=Se.ka)(t),Gn=r._malloc=t=>(Gn=r._malloc=Se.la)(t),kr=t=>(kr=Se.na)(t),se=(t,n)=>(se=Se.oa)(t,n),en=t=>(en=Se.pa)(t),me=()=>(me=Se.qa)(),he=t=>(he=Se.ra)(t),Ar=t=>(Ar=Se.sa)(t),Or=t=>(Or=Se.ta)(t),Mr=(t,n,a)=>(Mr=Se.ua)(t,n,a),Rr=t=>(Rr=Se.va)(t);r.dynCall_viijii=(t,n,a,l,v,m,y)=>(r.dynCall_viijii=Se.wa)(t,n,a,l,v,m,y);var Dr=r.dynCall_jiiii=(t,n,a,l,v)=>(Dr=r.dynCall_jiiii=Se.xa)(t,n,a,l,v);r.dynCall_iiiiij=(t,n,a,l,v,m,y)=>(r.dynCall_iiiiij=Se.ya)(t,n,a,l,v,m,y),r.dynCall_iiiiijj=(t,n,a,l,v,m,y,w,T)=>(r.dynCall_iiiiijj=Se.za)(t,n,a,l,v,m,y,w,T),r.dynCall_iiiiiijj=(t,n,a,l,v,m,y,w,T,P)=>(r.dynCall_iiiiiijj=Se.Aa)(t,n,a,l,v,m,y,w,T,P);function Ti(t,n){var a=me();try{return ve(t)(n)}catch(l){if(he(a),l!==l+0)throw l;se(1,0)}}function _i(t,n,a,l){var v=me();try{ve(t)(n,a,l)}catch(m){if(he(v),m!==m+0)throw m;se(1,0)}}function xi(t,n,a){var l=me();try{ve(t)(n,a)}catch(v){if(he(l),v!==v+0)throw v;se(1,0)}}function Ei(t,n,a,l){var v=me();try{return ve(t)(n,a,l)}catch(m){if(he(v),m!==m+0)throw m;se(1,0)}}function Pi(t,n,a,l,v){var m=me();try{return ve(t)(n,a,l,v)}catch(y){if(he(m),y!==y+0)throw y;se(1,0)}}function $i(t,n){var a=me();try{ve(t)(n)}catch(l){if(he(a),l!==l+0)throw l;se(1,0)}}function ki(t,n,a){var l=me();try{return ve(t)(n,a)}catch(v){if(he(l),v!==v+0)throw v;se(1,0)}}function Ai(t){var n=me();try{ve(t)()}catch(a){if(he(n),a!==a+0)throw a;se(1,0)}}function Oi(t,n,a,l,v){var m=me();try{return ve(t)(n,a,l,v)}catch(y){if(he(m),y!==y+0)throw y;se(1,0)}}function Mi(t,n,a,l,v,m,y,w,T,P,V){var U=me();try{ve(t)(n,a,l,v,m,y,w,T,P,V)}catch(K){if(he(U),K!==K+0)throw K;se(1,0)}}function Ri(t,n,a,l,v,m,y){var w=me();try{return ve(t)(n,a,l,v,m,y)}catch(T){if(he(w),T!==T+0)throw T;se(1,0)}}function Di(t,n,a,l,v){var m=me();try{ve(t)(n,a,l,v)}catch(y){if(he(m),y!==y+0)throw y;se(1,0)}}function Vi(t,n,a,l,v,m){var y=me();try{return ve(t)(n,a,l,v,m)}catch(w){if(he(y),w!==w+0)throw w;se(1,0)}}function qi(t,n,a,l,v,m,y,w){var T=me();try{return ve(t)(n,a,l,v,m,y,w)}catch(P){if(he(T),P!==P+0)throw P;se(1,0)}}function Fi(t,n,a,l){var v=me();try{return ve(t)(n,a,l)}catch(m){if(he(v),m!==m+0)throw m;se(1,0)}}function Bi(t,n,a,l){var v=me();try{return ve(t)(n,a,l)}catch(m){if(he(v),m!==m+0)throw m;se(1,0)}}function ji(t){var n=me();try{return ve(t)()}catch(a){if(he(n),a!==a+0)throw a;se(1,0)}}function Ii(t,n,a,l,v,m,y,w){var T=me();try{ve(t)(n,a,l,v,m,y,w)}catch(P){if(he(T),P!==P+0)throw P;se(1,0)}}function Li(t,n,a,l,v,m,y,w,T,P,V,U){var K=me();try{return ve(t)(n,a,l,v,m,y,w,T,P,V,U)}catch(Y){if(he(K),Y!==Y+0)throw Y;se(1,0)}}function Hi(t,n,a,l,v,m,y,w,T,P,V,U,K,Y,ce,pe){var ae=me();try{ve(t)(n,a,l,v,m,y,w,T,P,V,U,K,Y,ce,pe)}catch(ke){if(he(ae),ke!==ke+0)throw ke;se(1,0)}}function Wi(t,n,a,l,v){var m=me();try{return Dr(t,n,a,l,v)}catch(y){if(he(m),y!==y+0)throw y;se(1,0)}}var Cn;be=function t(){Cn||Vr(),Cn||(be=t)};function Vr(){if(fe>0||(ye(),fe>0))return;function t(){Cn||(Cn=!0,r.calledRun=!0,!H&&(Oe(),i(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),je()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),t()},1)):t()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Vr(),o.ready}})();function Gu(e){return vr(mr,e)}async function Yu(e,o){return Ku(mr,e,o)}async function Xu(e,o){return Qu(mr,e,o)}var an;class Xo extends EventTarget{constructor(o={}){var r;super(),Tu(this,an,void 0);try{const i=(r=o==null?void 0:o.formats)==null?void 0:r.filter(u=>u!=="unknown");if((i==null?void 0:i.length)===0)throw new TypeError("Hint option provided, but is empty.");i==null||i.forEach(u=>{if(!Pn.has(u))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${u}' is not a valid enum value of type BarcodeFormat.`)}),_u(this,an,i!=null?i:[]),Gu().then(u=>{this.dispatchEvent(new CustomEvent("load",{detail:u}))}).catch(u=>{this.dispatchEvent(new CustomEvent("error",{detail:u}))})}catch(i){throw lo(i,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return xu.filter(o=>o!=="unknown")}async detect(o){try{const r=await Mu(o);if(r===null)return[];let i;try{Ko(r)?i=await Yu(r,{tryHarder:!0,formats:io(this,an).map(u=>Pn.get(u))}):i=await Xu(r,{tryHarder:!0,formats:io(this,an).map(u=>Pn.get(u))})}catch(u){throw console.error(u),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return i.map(u=>{const{topLeft:{x:c,y:d},topRight:{x:g,y:f},bottomLeft:{x:p,y:h},bottomRight:{x:b,y:_}}=u.position,C=Math.min(c,g,p,b),x=Math.min(d,f,h,_),H=Math.max(c,g,p,b),k=Math.max(d,f,h,_);return{boundingBox:new DOMRectReadOnly(C,x,H-C,k-x),rawValue:u.text,format:Eu(u.format),cornerPoints:[{x:c,y:d},{x:g,y:f},{x:b,y:_},{x:p,y:h}]}})}catch(r){throw lo(r,"Failed to execute 'detect' on 'BarcodeDetector'")}}}an=new WeakMap;const Jo=(e,o,r="error")=>{let i,u;const c=new Promise((d,g)=>{i=d,u=g,e.addEventListener(o,i),e.addEventListener(r,u)});return c.finally(()=>{e.removeEventListener(o,i),e.removeEventListener(r,u)}),c},fo=e=>new Promise(o=>setTimeout(o,e));class Zo extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class Ju extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class Zu extends Error{constructor(){super("Loading camera stream timed out after 3 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let sr;const es=e=>{sr=new Xo({formats:e})},ts=async(e,{detectHandler:o,locateHandler:r,minDelay:i,formats:u})=>{sr=new Xo({formats:u});const c=d=>async g=>{if(e.readyState>1){const{lastScanned:f,contentBefore:p,lastScanHadContent:h}=d;if(g-f<i)window.requestAnimationFrame(c(d));else{const b=await sr.detect(e),_=b.some(H=>!p.includes(H.rawValue));_&&o(b);const C=b.length>0;C&&r(b),!C&&h&&r(b);const x={lastScanned:g,lastScanHadContent:C,contentBefore:_?b.map(H=>H.rawValue):p};window.requestAnimationFrame(c(x))}}};c({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var ea={},Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.compactObject=ra;Be.deprecated=cs;var ns=Be.detectBrowser=ds;Be.disableLog=ls;Be.disableWarnings=us;Be.extractVersion=$n;Be.filterStats=fs;Be.log=ss;Be.walkStats=Mn;Be.wrapPeerConnectionEvent=is;function rs(e,o,r){return o=os(o),o in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}function os(e){var o=as(e,"string");return bt(o)==="symbol"?o:String(o)}function as(e,o){if(bt(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,o||"default");if(bt(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}function bt(e){return bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},bt(e)}var ta=!0,na=!0;function $n(e,o,r){var i=e.match(o);return i&&i.length>=r&&parseInt(i[r],10)}function is(e,o,r){if(e.RTCPeerConnection){var i=e.RTCPeerConnection.prototype,u=i.addEventListener;i.addEventListener=function(d,g){if(d!==o)return u.apply(this,arguments);var f=function(p){var h=r(p);h&&(g.handleEvent?g.handleEvent(h):g(h))};return this._eventMap=this._eventMap||{},this._eventMap[o]||(this._eventMap[o]=new Map),this._eventMap[o].set(g,f),u.apply(this,[d,f])};var c=i.removeEventListener;i.removeEventListener=function(d,g){if(d!==o||!this._eventMap||!this._eventMap[o])return c.apply(this,arguments);if(!this._eventMap[o].has(g))return c.apply(this,arguments);var f=this._eventMap[o].get(g);return this._eventMap[o].delete(g),this._eventMap[o].size===0&&delete this._eventMap[o],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[d,f])},Object.defineProperty(i,"on"+o,{get:function(){return this["_on"+o]},set:function(d){this["_on"+o]&&(this.removeEventListener(o,this["_on"+o]),delete this["_on"+o]),d&&this.addEventListener(o,this["_on"+o]=d)},enumerable:!0,configurable:!0})}}function ls(e){return typeof e!="boolean"?new Error("Argument type: "+bt(e)+". Please use a boolean."):(ta=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function us(e){return typeof e!="boolean"?new Error("Argument type: "+bt(e)+". Please use a boolean."):(na=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function ss(){if((typeof window>"u"?"undefined":bt(window))==="object"){if(ta)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function cs(e,o){na&&console.warn(e+" is deprecated, please use "+o+" instead.")}function ds(e){var o={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return o.browser="Not a browser.",o;var r=e.navigator;if(r.mozGetUserMedia)o.browser="firefox",o.version=$n(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)o.browser="chrome",o.version=$n(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))o.browser="safari",o.version=$n(r.userAgent,/AppleWebKit\/(\d+)\./,1),o.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return o.browser="Not a supported browser.",o;return o}function vo(e){return Object.prototype.toString.call(e)==="[object Object]"}function ra(e){return vo(e)?Object.keys(e).reduce(function(o,r){var i=vo(e[r]),u=i?ra(e[r]):e[r],c=i&&!Object.keys(u).length;return u===void 0||c?o:Object.assign(o,rs({},r,u))},{}):e}function Mn(e,o,r){!o||r.has(o.id)||(r.set(o.id,o),Object.keys(o).forEach(function(i){i.endsWith("Id")?Mn(e,e.get(o[i]),r):i.endsWith("Ids")&&o[i].forEach(function(u){Mn(e,e.get(u),r)})}))}function fs(e,o,r){var i=r?"outbound-rtp":"inbound-rtp",u=new Map;if(o===null)return u;var c=[];return e.forEach(function(d){d.type==="track"&&d.trackIdentifier===o.id&&c.push(d)}),c.forEach(function(d){e.forEach(function(g){g.type===i&&g.trackId===d.id&&Mn(e,g,u)})}),u}Object.defineProperty(ea,"__esModule",{value:!0});var vs=ea.shimGetUserMedia=ps,ms=hs(Be);function oa(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,r=new WeakMap;return(oa=function(i){return i?r:o})(e)}function hs(e,o){if(!o&&e&&e.__esModule)return e;if(e===null||yt(e)!=="object"&&typeof e!="function")return{default:e};var r=oa(o);if(r&&r.has(e))return r.get(e);var i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(c!=="default"&&Object.prototype.hasOwnProperty.call(e,c)){var d=u?Object.getOwnPropertyDescriptor(e,c):null;d&&(d.get||d.set)?Object.defineProperty(i,c,d):i[c]=e[c]}return i.default=e,r&&r.set(e,i),i}function yt(e){return yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},yt(e)}var mo=ms.log;function ps(e,o){var r=e&&e.navigator;if(r.mediaDevices){var i=function(f){if(yt(f)!=="object"||f.mandatory||f.optional)return f;var p={};return Object.keys(f).forEach(function(h){if(!(h==="require"||h==="advanced"||h==="mediaSource")){var b=yt(f[h])==="object"?f[h]:{ideal:f[h]};b.exact!==void 0&&typeof b.exact=="number"&&(b.min=b.max=b.exact);var _=function(x,H){return x?x+H.charAt(0).toUpperCase()+H.slice(1):H==="deviceId"?"sourceId":H};if(b.ideal!==void 0){p.optional=p.optional||[];var C={};typeof b.ideal=="number"?(C[_("min",h)]=b.ideal,p.optional.push(C),C={},C[_("max",h)]=b.ideal,p.optional.push(C)):(C[_("",h)]=b.ideal,p.optional.push(C))}b.exact!==void 0&&typeof b.exact!="number"?(p.mandatory=p.mandatory||{},p.mandatory[_("",h)]=b.exact):["min","max"].forEach(function(x){b[x]!==void 0&&(p.mandatory=p.mandatory||{},p.mandatory[_(x,h)]=b[x])})}}),f.advanced&&(p.optional=(p.optional||[]).concat(f.advanced)),p},u=function(f,p){if(o.version>=61)return p(f);if(f=JSON.parse(JSON.stringify(f)),f&&yt(f.audio)==="object"){var h=function(x,H,k){H in x&&!(k in x)&&(x[k]=x[H],delete x[H])};f=JSON.parse(JSON.stringify(f)),h(f.audio,"autoGainControl","googAutoGainControl"),h(f.audio,"noiseSuppression","googNoiseSuppression"),f.audio=i(f.audio)}if(f&&yt(f.video)==="object"){var b=f.video.facingMode;b=b&&(yt(b)==="object"?b:{ideal:b});var _=o.version<66;if(b&&(b.exact==="user"||b.exact==="environment"||b.ideal==="user"||b.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!_)){delete f.video.facingMode;var C;if(b.exact==="environment"||b.ideal==="environment"?C=["back","rear"]:(b.exact==="user"||b.ideal==="user")&&(C=["front"]),C)return r.mediaDevices.enumerateDevices().then(function(x){x=x.filter(function(k){return k.kind==="videoinput"});var H=x.find(function(k){return C.some(function(Q){return k.label.toLowerCase().includes(Q)})});return!H&&x.length&&C.includes("back")&&(H=x[x.length-1]),H&&(f.video.deviceId=b.exact?{exact:H.deviceId}:{ideal:H.deviceId}),f.video=i(f.video),mo("chrome: "+JSON.stringify(f)),p(f)})}f.video=i(f.video)}return mo("chrome: "+JSON.stringify(f)),p(f)},c=function(f){return o.version>=64?f:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[f.name]||f.name,message:f.message,constraint:f.constraint||f.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},d=function(f,p,h){u(f,function(b){r.webkitGetUserMedia(b,p,function(_){h&&h(c(_))})})};if(r.getUserMedia=d.bind(r),r.mediaDevices.getUserMedia){var g=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(f){return u(f,function(p){return g(p).then(function(h){if(p.audio&&!h.getAudioTracks().length||p.video&&!h.getVideoTracks().length)throw h.getTracks().forEach(function(b){b.stop()}),new DOMException("","NotFoundError");return h},function(h){return Promise.reject(c(h))})})}}}}var aa={};Object.defineProperty(aa,"__esModule",{value:!0});var gs=aa.shimGetUserMedia=ws,ys=bs(Be);function ia(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,r=new WeakMap;return(ia=function(i){return i?r:o})(e)}function bs(e,o){if(!o&&e&&e.__esModule)return e;if(e===null||Wt(e)!=="object"&&typeof e!="function")return{default:e};var r=ia(o);if(r&&r.has(e))return r.get(e);var i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(c!=="default"&&Object.prototype.hasOwnProperty.call(e,c)){var d=u?Object.getOwnPropertyDescriptor(e,c):null;d&&(d.get||d.set)?Object.defineProperty(i,c,d):i[c]=e[c]}return i.default=e,r&&r.set(e,i),i}function Wt(e){return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Wt(e)}function ws(e,o){var r=e&&e.navigator,i=e&&e.MediaStreamTrack;if(r.getUserMedia=function(f,p,h){ys.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(f).then(p,h)},!(o.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var u=function(f,p,h){p in f&&!(h in f)&&(f[h]=f[p],delete f[p])},c=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(f){return Wt(f)==="object"&&Wt(f.audio)==="object"&&(f=JSON.parse(JSON.stringify(f)),u(f.audio,"autoGainControl","mozAutoGainControl"),u(f.audio,"noiseSuppression","mozNoiseSuppression")),c(f)},i&&i.prototype.getSettings){var d=i.prototype.getSettings;i.prototype.getSettings=function(){var f=d.apply(this,arguments);return u(f,"mozAutoGainControl","autoGainControl"),u(f,"mozNoiseSuppression","noiseSuppression"),f}}if(i&&i.prototype.applyConstraints){var g=i.prototype.applyConstraints;i.prototype.applyConstraints=function(f){return this.kind==="audio"&&Wt(f)==="object"&&(f=JSON.parse(JSON.stringify(f)),u(f,"autoGainControl","mozAutoGainControl"),u(f,"noiseSuppression","mozNoiseSuppression")),g.apply(this,[f])}}}}var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.shimAudioContext=As;Ze.shimCallbacksAPI=xs;Ze.shimConstraints=sa;Ze.shimCreateOfferLegacy=ks;var Ss=Ze.shimGetUserMedia=Es;Ze.shimLocalStreamsAPI=Ts;Ze.shimRTCIceServerUrls=Ps;Ze.shimRemoteStreamsAPI=_s;Ze.shimTrackEventTransceiver=$s;var la=Cs(Be);function ua(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,r=new WeakMap;return(ua=function(i){return i?r:o})(e)}function Cs(e,o){if(!o&&e&&e.__esModule)return e;if(e===null||wt(e)!=="object"&&typeof e!="function")return{default:e};var r=ua(o);if(r&&r.has(e))return r.get(e);var i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(c!=="default"&&Object.prototype.hasOwnProperty.call(e,c)){var d=u?Object.getOwnPropertyDescriptor(e,c):null;d&&(d.get||d.set)?Object.defineProperty(i,c,d):i[c]=e[c]}return i.default=e,r&&r.set(e,i),i}function wt(e){return wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},wt(e)}function Ts(e){if(!(wt(e)!=="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var o=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){var i=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(function(u){return o.call(i,u,r)}),r.getVideoTracks().forEach(function(u){return o.call(i,u,r)})},e.RTCPeerConnection.prototype.addTrack=function(r){for(var i=this,u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];return c&&c.forEach(function(g){i._localStreams?i._localStreams.includes(g)||i._localStreams.push(g):i._localStreams=[g]}),o.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(r){var i=this;this._localStreams||(this._localStreams=[]);var u=this._localStreams.indexOf(r);if(u!==-1){this._localStreams.splice(u,1);var c=r.getTracks();this.getSenders().forEach(function(d){c.includes(d.track)&&i.removeTrack(d)})}})}}function _s(e){if(!(wt(e)!=="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(r){var i=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=function(u){u.streams.forEach(function(c){if(i._remoteStreams||(i._remoteStreams=[]),!i._remoteStreams.includes(c)){i._remoteStreams.push(c);var d=new Event("addstream");d.stream=c,i.dispatchEvent(d)}})})}});var o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(function(u){if(r._remoteStreams||(r._remoteStreams=[]),!(r._remoteStreams.indexOf(u)>=0)){r._remoteStreams.push(u);var c=new Event("addstream");c.stream=u,r.dispatchEvent(c)}})}),o.apply(r,arguments)}}}function xs(e){if(!(wt(e)!=="object"||!e.RTCPeerConnection)){var o=e.RTCPeerConnection.prototype,r=o.createOffer,i=o.createAnswer,u=o.setLocalDescription,c=o.setRemoteDescription,d=o.addIceCandidate;o.createOffer=function(f,p){var h=arguments.length>=2?arguments[2]:arguments[0],b=r.apply(this,[h]);return p?(b.then(f,p),Promise.resolve()):b},o.createAnswer=function(f,p){var h=arguments.length>=2?arguments[2]:arguments[0],b=i.apply(this,[h]);return p?(b.then(f,p),Promise.resolve()):b};var g=function(f,p,h){var b=u.apply(this,[f]);return h?(b.then(p,h),Promise.resolve()):b};o.setLocalDescription=g,g=function(f,p,h){var b=c.apply(this,[f]);return h?(b.then(p,h),Promise.resolve()):b},o.setRemoteDescription=g,g=function(f,p,h){var b=d.apply(this,[f]);return h?(b.then(p,h),Promise.resolve()):b},o.addIceCandidate=g}}function Es(e){var o=e&&e.navigator;if(o.mediaDevices&&o.mediaDevices.getUserMedia){var r=o.mediaDevices,i=r.getUserMedia.bind(r);o.mediaDevices.getUserMedia=function(u){return i(sa(u))}}!o.getUserMedia&&o.mediaDevices&&o.mediaDevices.getUserMedia&&(o.getUserMedia=function(u,c,d){o.mediaDevices.getUserMedia(u).then(c,d)}.bind(o))}function sa(e){return e&&e.video!==void 0?Object.assign({},e,{video:la.compactObject(e.video)}):e}function Ps(e){if(e.RTCPeerConnection){var o=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){for(var u=[],c=0;c<r.iceServers.length;c++){var d=r.iceServers[c];d.urls===void 0&&d.url?(la.deprecated("RTCIceServer.url","RTCIceServer.urls"),d=JSON.parse(JSON.stringify(d)),d.urls=d.url,delete d.url,u.push(d)):u.push(r.iceServers[c])}r.iceServers=u}return new o(r,i)},e.RTCPeerConnection.prototype=o.prototype,"generateCertificate"in o&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return o.generateCertificate}})}}function $s(e){wt(e)==="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function ks(e){var o=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);var i=this.getTransceivers().find(function(c){return c.receiver.track.kind==="audio"});r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);var u=this.getTransceivers().find(function(c){return c.receiver.track.kind==="video"});r.offerToReceiveVideo===!1&&u?u.direction==="sendrecv"?u.setDirection?u.setDirection("sendonly"):u.direction="sendonly":u.direction==="recvonly"&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive"):r.offerToReceiveVideo===!0&&!u&&this.addTransceiver("video",{direction:"recvonly"})}return o.apply(this,arguments)}}function As(e){wt(e)!=="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Os=e=>{let o=!1,r;return(...i)=>(o||(r=e(i),o=!0),r)};function lt(e,o){if(e===!1)throw new Error(o!=null?o:"assertion failure")}const Ms=Os(()=>{const e=ns(window);switch(e.browser){case"chrome":vs(window,e);break;case"firefox":gs(window,e);break;case"safari":Ss(window,e);break;default:throw new Zo}});let zt=Promise.resolve({type:"stop",data:{}});async function ho(e,o,r){var i,u,c;if(window.isSecureContext!==!0)throw new Ju;if(((i=navigator==null?void 0:navigator.mediaDevices)==null?void 0:i.getUserMedia)===void 0)throw new Zo;Ms();const d=await navigator.mediaDevices.getUserMedia({audio:!1,video:o});e.srcObject!==void 0?e.srcObject=d:e.mozSrcObject!==void 0?e.mozSrcObject=d:window.URL.createObjectURL?e.src=window.URL.createObjectURL(d):window.webkitURL?e.src=window.webkitURL.createObjectURL(d):e.src=d.id,e.play(),await Promise.race([Jo(e,"loadeddata"),fo(3e3).then(()=>{throw new Zu})]),await fo(500);const[g]=d.getVideoTracks(),f=(c=(u=g==null?void 0:g.getCapabilities)==null?void 0:u.call(g))!=null?c:{};let p=!1;return r&&f.torch&&(await g.applyConstraints({advanced:[{torch:!0}]}),p=!0),{type:"start",data:{videoEl:e,stream:d,capabilities:f,constraints:o,isTorchOn:p}}}async function Rs(e,{constraints:o,torch:r,restart:i=!1}){zt=zt.then(c=>{if(c.type==="start"){const{data:{videoEl:d,stream:g,constraints:f,isTorchOn:p}}=c;return!i&&e===d&&o===f&&r===p?c:ca(d,g,p).then(()=>ho(e,o,r))}return ho(e,o,r)});const u=await zt;if(u.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");return u.data.capabilities}async function ca(e,o,r){e.src="",e.srcObject=null,e.load(),await Jo(e,"error");for(const i of o.getTracks())r!=null||await i.applyConstraints({advanced:[{torch:!1}]}),o.removeTrack(i),i.stop();return{type:"stop",data:{}}}async function rr(){if(zt=zt.then(e=>{if(e.type==="stop")return e;const{data:{videoEl:o,stream:r,isTorchOn:i}}=e;return ca(o,r,i)}),(await zt).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const Ds=Co({__name:"QrcodeStream",props:{constraints:{type:Object,default(){return{facingMode:"environment"}}},formats:{type:Array,default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function}},emits:["detect","camera-on","camera-off","error"],setup(e,{emit:o}){const r=e,i=o,u=X(),c=X(),d=X(),g=X(!1),f=X(!1);Dn(()=>{f.value=!0}),So(()=>{rr()});const p=B(()=>({torch:r.torch,constraints:r.constraints,shouldStream:f.value&&!r.paused}));Ee(p,async q=>{const $=d.value;lt($!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const D=u.value;lt(D!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const L=D.getContext("2d");if(lt(L!==null,"if cavnas is defined, canvas 2d context should also be non-null"),q.shouldStream)try{const J=await Rs($,q);f.value?(g.value=!0,i("camera-on",J)):await rr()}catch(J){i("error",J)}else D.width=$.videoWidth,D.height=$.videoHeight,L.drawImage($,0,0,$.videoWidth,$.videoHeight),rr(),g.value=!1,i("camera-off")},{deep:!0});const{formats:h}=yl(r);Ee(h,q=>{f.value&&es(q)});const b=B(()=>p.value.shouldStream&&g.value);Ee(b,q=>{if(q){lt(u.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),_(u.value),lt(c.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),_(c.value);const $=()=>r.track===void 0?500:40;lt(d.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),ts(d.value,{detectHandler:D=>i("detect",D),formats:r.formats,locateHandler:C,minDelay:$()})}});const _=q=>{const $=q.getContext("2d");lt($!==null,"canvas 2d context should always be non-null"),$.clearRect(0,0,q.width,q.height)},C=q=>{const $=c.value;lt($!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const D=d.value;if(lt(D!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),q.length===0||r.track===void 0)_($);else{const L=D.offsetWidth,J=D.offsetHeight,te=D.videoWidth,ie=D.videoHeight,de=Math.max(L/te,J/ie),Pe=te*de,$e=ie*de,ye=Pe/te,Oe=$e/ie,je=(L-Pe)/2,Ve=(J-$e)/2,ue=({x:Ce,y:S})=>({x:Math.floor(Ce*ye),y:Math.floor(S*Oe)}),qe=({x:Ce,y:S})=>({x:Math.floor(Ce+je),y:Math.floor(S+Ve)}),fe=q.map(Ce=>{const{boundingBox:S,cornerPoints:A}=Ce,{x:z,y:ee}=qe(ue({x:S.x,y:S.y})),{x:F,y:I}=ue({x:S.width,y:S.height});return{...Ce,cornerPoints:A.map(W=>qe(ue(W))),boundingBox:DOMRectReadOnly.fromRect({x:z,y:ee,width:F,height:I})}});$.width=D.offsetWidth,$.height=D.offsetHeight;const be=$.getContext("2d");r.track(fe,be)}},x={width:"100%",height:"100%",position:"relative","z-index":"0"},H={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},k={width:"100%",height:"100%","object-fit":"cover"},Q=B(()=>b.value?k:{...k,visibility:"hidden",position:"absolute"});return(q,$)=>(ar(),To("div",{style:x},[ut("video",{ref_key:"videoRef",ref:d,style:bl(Q.value),autoplay:"",muted:"",playsinline:""},null,4),wl(ut("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:u,style:k},null,512),[[Sl,!b.value]]),ut("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:c,style:H},null,512),ut("div",{style:H},[Cl(q.$slots,"default")])]))}}),Vs=Co({name:"BottlePage",components:{QrcodeStream:Ds},setup(){_l();const e=xl(),o=X(e.params.bottleId),r=X(null),i=X([]),u=X(void 0),c=X("empty bottle");let d=X(""),g=X("");const f=async b=>{let C=(await b)[0].rawValue.split("/");r.value=C[C.length-1],await p(r.value)},p=async b=>{let _=await Ir.getOrCreateBottle(b);_&&(u.value=_)},h=()=>{};return Dn(()=>{d.value=localStorage.getItem("brewfatherKey"),g.value=localStorage.getItem("brewfatherId"),d.value&&g.value?Ir.getConditioningBatches().then(b=>{i.value=b.map(_=>({value:_._id,label:"#"+_.batchNo+" "+_.recipe.name+" ("+_.measuredAbv+"% ABV)",batchNo:Number(_.batchNo)})),i.value.sort((_,C)=>_.batchNo>C.batchNo?-1:_.batchNo<C.batchNo?1:0)}):console.log("No Brewfather Credentials"+d.value+" "+g.value)}),{batches:i,bottleId:o,currentBottle:u,scannedBottleId:r,selectedBatch:c,onDetect:f,updateBottle:h}}}),qs={class:"container-sm",style:{"max-width":"300px"}},Fs={class:"row justify-center"},Bs={key:0,class:"col-auto"};function js(e,o,r,i,u,c){const d=El("qrcode-stream");return ar(),Pl(Vl,{class:"flex flex-center"},{default:zr(()=>[ut("div",null,[ut("div",qs,[Xn(d,{onDetect:e.onDetect},null,8,["onDetect"])]),ut("div",null,[ut("p",null,"Scanned bottle id: "+$l(e.scannedBottleId),1)]),Xn(Cu,null,{default:zr(()=>[ut("div",Fs,[e.currentBottle?(ar(),To("div",Bs,[Xn(Su,{label:"Choose Batch",options:e.batches,modelValue:e.currentBottle.batch_id,"onUpdate:modelValue":[o[0]||(o[0]=g=>e.currentBottle.batch_id=g),e.updateBottle],"map-options":"","emit-value":""},null,8,["options","modelValue","onUpdate:modelValue"])])):kl("",!0)])]),_:1})])]),_:1})}var Qs=Tl(Vs,[["render",js]]);export{Qs as default};
